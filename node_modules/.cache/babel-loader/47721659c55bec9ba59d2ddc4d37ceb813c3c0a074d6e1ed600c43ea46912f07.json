{"ast":null,"code":"var _jsxFileName = \"/Users/dsi/Projetos/food-memories-workshop/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChevronRight, ChevronLeft, Clock, Users, CheckCircle, BookOpen, Utensils, MapPin, Lightbulb, FileText, Play, Pause, RotateCcw, Timer, UserPlus, Pencil, Trash2, Upload, Download, X, Images, Camera, Maximize2, XCircle } from 'lucide-react';\nimport relishLineArt from './img/relish-lineart.svg';\nimport logo from './img/logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CHECKLIST_STORAGE_KEY = 'food-memories-checklist';\nconst PHOTO_MAX_SIZE_BYTES = 10 * 1024 * 1024; // 10MB limit per requirements\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:4000';\nconst CHECKLIST_SECTIONS = [{\n  id: 'before-workshop',\n  title: 'Before the Workshop',\n  containerClass: 'bg-relish-paper border border-relish-linen shadow-sm',\n  items: [{\n    id: 'before-purpose',\n    label: 'Engage with participants about purpose and expectations'\n  }, {\n    id: 'before-agreement',\n    label: 'Create \"Community Agreement\" ground rules'\n  }, {\n    id: 'before-space',\n    label: 'Prepare comfortable and welcoming space'\n  }, {\n    id: 'before-consent',\n    label: 'Precirculate consent forms'\n  }, {\n    id: 'before-needs',\n    label: 'Gather participant needs via pre-workshop forms'\n  }]\n}, {\n  id: 'day1-materials',\n  title: 'Day 1 Materials',\n  containerClass: 'bg-white border border-relish-warm shadow-sm',\n  items: [{\n    id: 'day1-paper',\n    label: 'Large paper sheets for mapping'\n  }, {\n    id: 'day1-art',\n    label: 'Colored pens, markers, art supplies'\n  }, {\n    id: 'day1-journals',\n    label: 'Journals or notebooks'\n  }, {\n    id: 'day1-prompts',\n    label: 'Printed prompts and vocabulary cards'\n  }]\n}, {\n  id: 'day2-setup',\n  title: 'Day 2 Kitchen Setup',\n  containerClass: 'bg-relish-paper-deep border border-relish-clay shadow-sm',\n  items: [{\n    id: 'day2-ingredients',\n    label: 'All ingredients for Future Recipe'\n  }, {\n    id: 'day2-equipment',\n    label: 'Kitchen equipment and utensils'\n  }, {\n    id: 'day2-safety',\n    label: 'Safety equipment (first aid, aprons, gloves)'\n  }, {\n    id: 'day2-recording',\n    label: 'Recording devices (camera, audio, video)'\n  }, {\n    id: 'day2-documentation',\n    label: 'Documentation materials for observer'\n  }]\n}];\nconst createDefaultChecklistState = () => {\n  const base = {};\n  CHECKLIST_SECTIONS.forEach(section => {\n    section.items.forEach(item => {\n      base[item.id] = false;\n    });\n  });\n  return base;\n};\nconst WorkshopTool = () => {\n  _s();\n  const [currentDay, setCurrentDay] = useState(1);\n  const [currentPhase, setCurrentPhase] = useState(0);\n  const [currentModule, setCurrentModule] = useState(0);\n  const [completedModules, setCompletedModules] = useState(new Set());\n  const [showNotes, setShowNotes] = useState(false);\n  const [facilitatorNotes, setFacilitatorNotes] = useState('');\n  const [showChecklist, setShowChecklist] = useState(false);\n  const [checklistState, setChecklistState] = useState(() => {\n    const defaults = createDefaultChecklistState();\n    try {\n      const stored = window.localStorage.getItem(CHECKLIST_STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n          return {\n            ...defaults,\n            ...parsed\n          };\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load checklist state', error);\n    }\n    return defaults;\n  });\n\n  // Timer states\n  const [timerActive, setTimerActive] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState(null);\n  const [timerMode, setTimerMode] = useState('countdown');\n  const [customTime, setCustomTime] = useState('');\n  const [showTimerSettings, setShowTimerSettings] = useState(false);\n  const [participants, setParticipants] = useState([]);\n  const [participantsLoading, setParticipantsLoading] = useState(false);\n  const [participantsError, setParticipantsError] = useState(null);\n  const [showParticipants, setShowParticipants] = useState(false);\n  const [participantForm, setParticipantForm] = useState({\n    name: '',\n    email: '',\n    dietary: '',\n    cultural: '',\n    notes: ''\n  });\n  const [editingParticipantId, setEditingParticipantId] = useState(null);\n  const fileInputRef = useRef(null);\n  const [photos, setPhotos] = useState([]);\n  const [photosLoading, setPhotosLoading] = useState(false);\n  const [photosError, setPhotosError] = useState(null);\n  const [photoUploading, setPhotoUploading] = useState(false);\n  const [showPhotoManager, setShowPhotoManager] = useState(false);\n  const [activePhotoIndex, setActivePhotoIndex] = useState(null);\n  const photoInputRef = useRef(null);\n  const [showCameraCapture, setShowCameraCapture] = useState(false);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [cameraError, setCameraError] = useState(null);\n  const cameraVideoRef = useRef(null);\n  const cameraCanvasRef = useRef(null);\n  const [splashState, setSplashState] = useState('visible');\n  const dismissSplashScreen = useCallback(() => {\n    if (splashState !== 'visible') return;\n    setSplashState('hiding');\n  }, [splashState]);\n  const workshopData = {\n    day1: {\n      title: \"Day 1: Mapping and Writing\",\n      subtitle: \"Narrative Session\",\n      phases: [{\n        name: \"Memory Activation and Mapping\",\n        icon: MapPin,\n        color: \"bg-relish-paper border-relish-linen\",\n        modules: [{\n          id: \"1-1\",\n          title: \"My Madeleine: A Proustian Memory Activation\",\n          duration: \"30 min\",\n          purpose: \"To activate autobiographical memory and create emotional safety through personal connection\",\n          steps: [\"Welcome participants and create a safe, comfortable environment\", \"Share your own food memory example as facilitator\", \"Invite participants to identify a food/dish that evokes a strong memory\", \"Encourage description of sensory, emotional, and cultural dimensions\", \"Optional: Show-and-tell with real foods, utensils, or images\"],\n          materials: [\"Real food items (optional)\", \"Images/photos\", \"Projector or printed visuals\"],\n          tips: [\"Model vulnerability by sharing first\", \"Allow silence for reflection\", \"Encourage but don't pressure sharing\"]\n        }, {\n          id: \"1-2\",\n          title: \"Food Memory Map / Culinary Landscape\",\n          duration: \"45 min\",\n          purpose: \"To facilitate access to food memories and identify what participants want to write about\",\n          steps: [\"Provide large paper sheets and creative materials\", \"Ask participants to list foodstuffs from their home/origin\", \"Encourage drawing connections between elements\", \"Prompt for sensory details: colors, aromas, shapes, textures\", \"Use vocabulary cards to support description\", \"Identify which aspects relate to Intangible Cultural Heritage\", \"Optional: Collaborative evaluation of maps\"],\n          materials: [\"Large paper sheets\", \"Colored pens/markers\", \"Vocabulary cards\", \"Collage materials (magazines, scissors, glue)\"],\n          tips: [\"Encourage creativity and personal style\", \"Sharing is optional but encouraged\", \"Focus on relationships between elements\"]\n        }]\n      }, {\n        name: \"Writing as Inquiry\",\n        icon: FileText,\n        color: \"bg-white border-relish-warm\",\n        modules: [{\n          id: \"1-3\",\n          title: \"Sensory-Rich Reflective Writing: 'Taste of Home'\",\n          duration: \"45 min\",\n          purpose: \"To develop detailed emotional and sensory narratives around a food memory\",\n          steps: [\"Participants select an aspect from their culinary map\", \"Encourage automatic writing (raw, unedited narratives)\", \"Provide guiding questions: Who prepared? When eaten? What emotions?\", \"Focus on sensory details: smells, textures, sounds, atmosphere\", \"Explore meaning: past vs. present significance\", \"If multi-day workshop: assign continued writing as homework\"],\n          materials: [\"Journals/notebooks\", \"Pens\", \"Printed prompts\", \"Quiet writing space\"],\n          tips: [\"Emphasize no judgment—write freely\", \"Provide optional guiding questions\", \"Allow flexible pacing\"]\n        }, {\n          id: \"1-4\",\n          title: \"Everyday Eating\",\n          duration: \"30 min\",\n          purpose: \"To highlight contrast between Heritage Food and contemporary habits; prepare for speculative exercise\",\n          steps: [\"Participants write contrasting micro-essay about a detail from previous writing\", \"Pair work: discussion and mutual critique (5-10 min)\", \"Solitary writing: focus on convenience, health, sustainability\", \"Share micro-essays with the group\", \"Facilitator establishes common themes across participants\", \"Identify shared elements (dish, ingredient, custom) for co-creation\"],\n          materials: [\"Writing materials\", \"Sharing circle setup\"],\n          tips: [\"Highlight commonalities\", \"Prepare transition to future recipe\", \"Celebrate diverse perspectives\"]\n        }]\n      }, {\n        name: \"Co-creation of the Future Recipe\",\n        icon: Lightbulb,\n        color: \"bg-relish-paper-deep border-relish-clay\",\n        modules: [{\n          id: \"1-5\",\n          title: \"The Future Evolution of a Recipe\",\n          duration: \"60 min\",\n          purpose: \"To reflect on culinary continuity and change; consider future challenges and adaptations\",\n          steps: [\"Identify common points in participants' maps and memories\", \"Choose a shared recipe or dish\", \"Visualize the dish (sketching or collage encouraged)\", \"Research ingredients, traditions, sustainability concerns\", \"Imagine future conditions: social/environmental changes\", \"Draft the future recipe with clear steps\", \"Connect each change to participants' stories\", \"This recipe becomes the focus of Day 2\"],\n          materials: [\"Large paper for collaborative work\", \"Markers\", \"Recipe template\", \"Research materials\"],\n          tips: [\"Foster creative speculation\", \"Ground changes in real concerns\", \"Document the co-creation process\"]\n        }]\n      }]\n    },\n    day2: {\n      title: \"Day 2: Cooking, Sharing and Co-creation\",\n      subtitle: \"Cooking Session\",\n      phases: [{\n        name: \"Recap and Sharing Reflections\",\n        icon: BookOpen,\n        color: \"bg-white border-relish-linen\",\n        modules: [{\n          id: \"2-1\",\n          title: \"Where Did We Start and Where Are We Going?\",\n          duration: \"30 min\",\n          purpose: \"To reactivate emotional/sensory material from Day 1; bridge speculative work and embodied practice\",\n          steps: [\"Sit together informally as a group\", \"Share reflections on key memories from Day 1\", \"Discuss insights from writing and mapping exercises\", \"Express expectations for the cooking session\", \"Review the 'Future Recipe' created yesterday\", \"Discuss ingredients, steps, and story behind co-creation\", \"Clarify roles, tasks, and sequence for cooking\"],\n          materials: [\"Day 1 materials\", \"Future Recipe document\", \"Seating arrangement\"],\n          tips: [\"Create comfortable atmosphere\", \"Ensure everyone's voice is heard\", \"Build excitement for cooking\"]\n        }]\n      }, {\n        name: \"Collaborative Cooking and Guided Conversation\",\n        icon: Utensils,\n        color: \"bg-relish-paper border-relish-warm\",\n        modules: [{\n          id: \"2-2\",\n          title: \"Cooking as Heritage Practice\",\n          duration: \"45 min\",\n          purpose: \"To understand cooking as cultural practice weaving habits, family learning, and collective identity\",\n          steps: [\"Begin collaborative cooking of the Future Recipe\", \"Facilitate conversation about everyday cooking relationships\", \"Prompts: Do you use recipes daily? How do you use them?\", \"Discuss: Do you write down new recipes?\", \"Explore: How do you interact with the kitchen?\", \"Observer takes detailed field notes\", \"Document embodied practices and gestures\"],\n          materials: [\"All cooking equipment\", \"Ingredients\", \"Recording devices\", \"Observer notebook\"],\n          tips: [\"Let participants lead cooking\", \"Ask open-ended questions\", \"Observe tacit knowledge\"]\n        }, {\n          id: \"2-3\",\n          title: \"The Memory-Aroma Connection\",\n          duration: \"30 min\",\n          purpose: \"To explore how senses function as memory repositories and tools for decision-making\",\n          steps: [\"Continue cooking while focusing on sensory dimensions\", \"Prompt participants to notice smells, textures, sounds\", \"Ask: What do these smells evoke for you?\", \"Discuss: Which sensory cues guide your cooking decisions?\", \"Explore: How do you know when something is 'done'?\", \"Help participants verbalize tacit sensory criteria\", \"Link sensory experiences to memories and emotions\"],\n          materials: [\"Ongoing cooking setup\", \"Recording equipment\"],\n          tips: [\"Slow down to notice details\", \"Validate intuitive knowledge\", \"Connect senses to memory\"]\n        }, {\n          id: \"2-4\",\n          title: \"Dialogue on Intangible Culinary Heritage\",\n          duration: \"30 min\",\n          purpose: \"To prompt critical reflection on personal and collective relationship with culinary heritage\",\n          steps: [\"Continue cooking while discussing heritage concepts\", \"Ask: What does culinary heritage mean to you?\", \"Explore: Do you feel connected to specific traditions?\", \"Discuss: Should heritage be preserved? How? By whom?\", \"Reflect: What's your role in preservation or transformation?\", \"Frame heritage as living practice, not fixed tradition\", \"Allow space for questioning and reinterpretation\"],\n          materials: [\"Cooking in progress\", \"Recording devices\"],\n          tips: [\"Embrace complexity and ambivalence\", \"Avoid imposing single narrative\", \"Value diverse relationships to heritage\"]\n        }, {\n          id: \"2-5\",\n          title: \"Future and Culinary Innovation\",\n          duration: \"30 min\",\n          purpose: \"To explore future imaginaries and position participants as agents of change\",\n          steps: [\"Continue cooking while looking forward\", \"Ask: How do you imagine culinary heritage evolving?\", \"Discuss: What hopes or concerns about future changes?\", \"Explore: What role will you play in transformation?\", \"Reflect: What legacy for future generations?\", \"Connect current cooking to future possibilities\", \"Document participant visions and expectations\"],\n          materials: [\"Cooking equipment\", \"Recording devices\"],\n          tips: [\"Encourage imaginative thinking\", \"Balance optimism and realism\", \"Recognize agency\"]\n        }]\n      }, {\n        name: \"Plating and Collective Tasting\",\n        icon: CheckCircle,\n        color: \"bg-relish-paper-deep border-relish-accent\",\n        modules: [{\n          id: \"2-6\",\n          title: \"Tasting Memory in Evolution\",\n          duration: \"45 min\",\n          purpose: \"To build bridges between past and future through collective reflection\",\n          steps: [\"Plate the prepared dish together\", \"Share the meal among all participants\", \"Discuss how dish relates to shared narrative\", \"Reflect on aspects of innovation, change, or future\", \"Compare expected vs. actual results\", \"Gather final reflections and evaluations\", \"Thank participants and close the workshop\", \"Optional: Collect materials and photographs\"],\n          materials: [\"Plates and serving items\", \"Camera\", \"Evaluation forms (optional)\"],\n          tips: [\"Create celebratory atmosphere\", \"Honor the collective work\", \"Document final reflections\"]\n        }]\n      }]\n    }\n  };\n  const currentDayData = currentDay === 1 ? workshopData.day1 : workshopData.day2;\n  const phase = currentDayData.phases[currentPhase];\n  const module = phase.modules[currentModule];\n\n  // Parse duration string to minutes\n  const parseDuration = duration => {\n    const match = duration.match(/(\\d+)/);\n    return match ? parseInt(match[0]) : 30;\n  };\n\n  // Timer functionality\n  useEffect(() => {\n    let interval;\n    if (timerActive && timeRemaining !== null) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (timerMode === 'countdown') {\n            if (prev <= 1) {\n              setTimerActive(false);\n              playTimerSound();\n              return 0;\n            }\n            return prev - 1;\n          } else {\n            // Stopwatch mode\n            return prev + 1;\n          }\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [timerActive, timeRemaining, timerMode]);\n  const playTimerSound = () => {\n    // Create a simple beep sound\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n    oscillator.frequency.value = 800;\n    oscillator.type = 'sine';\n    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n    oscillator.start(audioContext.currentTime);\n    oscillator.stop(audioContext.currentTime + 0.5);\n  };\n  const startTimer = (minutes = null) => {\n    const mins = minutes || parseDuration(module.duration);\n    setTimeRemaining(mins * 60);\n    setTimerActive(true);\n    setTimerMode('countdown');\n    setShowTimerSettings(false);\n  };\n  const startStopwatch = () => {\n    setTimeRemaining(0);\n    setTimerActive(true);\n    setTimerMode('stopwatch');\n    setShowTimerSettings(false);\n  };\n  const pauseTimer = () => {\n    setTimerActive(false);\n  };\n  const resetTimer = () => {\n    setTimerActive(false);\n    setTimeRemaining(null);\n  };\n  const toggleChecklistItem = itemId => {\n    setChecklistState(prev => ({\n      ...prev,\n      [itemId]: !prev[itemId]\n    }));\n  };\n  const normalizePhoto = useCallback(photo => {\n    if (!photo) {\n      return null;\n    }\n    const storagePath = typeof photo.storagePath === 'string' ? photo.storagePath.replace(/\\\\/g, '/') : '';\n    return {\n      id: photo._id || photo.id || `${Date.now()}-${Math.random().toString(16).slice(2)}`,\n      storagePath,\n      originalName: photo.originalName || photo.filename || 'Workshop photo',\n      caption: photo.caption || '',\n      notes: photo.notes || '',\n      day: Number.isInteger(photo.day) ? photo.day : currentDay,\n      phaseIndex: Number.isInteger(photo.phaseIndex) ? photo.phaseIndex : currentPhase,\n      moduleId: typeof photo.moduleId === 'string' && photo.moduleId.trim().length > 0 ? photo.moduleId : null,\n      participantIds: Array.isArray(photo.participantIds) ? photo.participantIds : [],\n      createdAt: photo.createdAt || new Date().toISOString(),\n      updatedAt: photo.updatedAt || photo.createdAt || null,\n      mimeType: photo.mimeType || '',\n      size: photo.size || 0\n    };\n  }, [currentDay, currentPhase]);\n  const getPhotoId = photo => (photo === null || photo === void 0 ? void 0 : photo.id) || (photo === null || photo === void 0 ? void 0 : photo._id) || null;\n  const buildPhotoUrl = photo => {\n    if (!(photo !== null && photo !== void 0 && photo.storagePath)) return '';\n    const base = API_BASE_URL.replace(/\\/+$/, '');\n    const path = photo.storagePath.replace(/^\\/+/, '');\n    return `${base}/${path}`;\n  };\n  const uploadPhotoFile = async file => {\n    const formData = new FormData();\n    formData.append('day', String(currentDay));\n    formData.append('phaseIndex', String(currentPhase));\n    if (module !== null && module !== void 0 && module.id) {\n      formData.append('moduleId', module.id);\n    }\n    // Placeholder for participant tagging; currently no participants are selected but\n    // the backend expects the field to exist in the payload.\n    formData.append('participantIds', '');\n    formData.append('photo', file);\n    const response = await fetch(`${API_BASE_URL}/api/photos`, {\n      method: 'POST',\n      body: formData\n    });\n    let payload = null;\n    try {\n      payload = await response.json();\n    } catch (error) {\n      payload = null;\n    }\n    if (!response.ok) {\n      var _payload;\n      const message = ((_payload = payload) === null || _payload === void 0 ? void 0 : _payload.message) || 'Failed to upload photo';\n      throw new Error(message);\n    }\n    const normalized = normalizePhoto(payload);\n    if (!normalized) {\n      throw new Error('Photo upload response was empty');\n    }\n    return normalized;\n  };\n  const handlePhotoUploadChange = async event => {\n    const fileList = Array.from(event.target.files || []);\n    if (fileList.length === 0) return;\n    const oversize = fileList.find(file => file.size > PHOTO_MAX_SIZE_BYTES);\n    if (oversize) {\n      setPhotosError(`\"${oversize.name}\" exceeds the ${Math.round(PHOTO_MAX_SIZE_BYTES / (1024 * 1024))}MB limit. Please choose a smaller file.`);\n      event.target.value = '';\n      return;\n    }\n    const invalidType = fileList.find(file => !file.type.startsWith('image/'));\n    if (invalidType) {\n      setPhotosError(`\"${invalidType.name}\" is not an image. Please choose image files only.`);\n      event.target.value = '';\n      return;\n    }\n    setPhotosError(null);\n    setPhotoUploading(true);\n    try {\n      const uploaded = [];\n      for (const file of fileList) {\n        const photo = await uploadPhotoFile(file);\n        uploaded.push(photo);\n      }\n      if (uploaded.length) {\n        setPhotos(prev => [...uploaded, ...prev]);\n      }\n    } catch (error) {\n      console.error('Photo upload failed', error);\n      setPhotosError(error.message || 'Failed to upload photo');\n    } finally {\n      setPhotoUploading(false);\n      event.target.value = '';\n    }\n  };\n  const openPhotoUploader = () => {\n    var _photoInputRef$curren;\n    setPhotosError(null);\n    (_photoInputRef$curren = photoInputRef.current) === null || _photoInputRef$curren === void 0 ? void 0 : _photoInputRef$curren.click();\n  };\n  const openPhotoPreview = index => {\n    setActivePhotoIndex(index);\n  };\n  const closePhotoPreview = () => {\n    setActivePhotoIndex(null);\n  };\n  const closePhotoManager = () => {\n    setShowPhotoManager(false);\n    setActivePhotoIndex(null);\n    setPhotosError(null);\n    if (cameraStream) {\n      cameraStream.getTracks().forEach(track => track.stop());\n      setCameraStream(null);\n    }\n    setShowCameraCapture(false);\n    setCameraError(null);\n  };\n  const openCameraCapture = async () => {\n    setCameraError(null);\n    setPhotosError(null);\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setCameraError('Camera access is not supported on this device.');\n      setShowCameraCapture(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'environment'\n        },\n        audio: false\n      });\n      setCameraStream(stream);\n      setShowCameraCapture(true);\n    } catch (error) {\n      console.error('Unable to access camera', error);\n      setCameraError('Unable to access camera. Please check permissions and try again.');\n      setShowCameraCapture(true);\n    }\n  };\n  const closeCameraCapture = () => {\n    if (cameraStream) {\n      cameraStream.getTracks().forEach(track => track.stop());\n      setCameraStream(null);\n    }\n    setShowCameraCapture(false);\n    setCameraError(null);\n  };\n  const capturePhotoFromCamera = async () => {\n    const videoElement = cameraVideoRef.current;\n    const canvasElement = cameraCanvasRef.current;\n    if (!videoElement || !canvasElement) return;\n    const width = videoElement.videoWidth;\n    const height = videoElement.videoHeight;\n    if (!width || !height) return;\n    canvasElement.width = width;\n    canvasElement.height = height;\n    const context = canvasElement.getContext('2d');\n    if (!context) return;\n    context.drawImage(videoElement, 0, 0, width, height);\n    const blob = await new Promise(resolve => {\n      canvasElement.toBlob(resolve, 'image/jpeg', 0.92);\n    });\n    let finalBlob = blob;\n    if (!finalBlob) {\n      try {\n        const fallbackDataUrl = canvasElement.toDataURL('image/jpeg', 0.92);\n        const response = await fetch(fallbackDataUrl);\n        finalBlob = await response.blob();\n      } catch (error) {\n        finalBlob = null;\n      }\n    }\n    if (!finalBlob) {\n      setPhotosError('Unable to capture photo from camera. Please try again.');\n      return;\n    }\n    const fileName = `Captured-${new Date().toISOString()}.jpg`;\n    const captureFile = new File([finalBlob], fileName, {\n      type: finalBlob.type || 'image/jpeg'\n    });\n    setPhotosError(null);\n    setPhotoUploading(true);\n    try {\n      const uploaded = await uploadPhotoFile(captureFile);\n      setPhotos(prev => [uploaded, ...prev]);\n      setActivePhotoIndex(0);\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n        setCameraStream(null);\n      }\n      setShowCameraCapture(false);\n    } catch (error) {\n      console.error('Unable to upload captured photo', error);\n      setPhotosError(error.message || 'Failed to upload captured photo');\n    } finally {\n      setPhotoUploading(false);\n    }\n  };\n  const showNextPhoto = direction => {\n    setActivePhotoIndex(prev => {\n      if (prev === null) return prev;\n      const total = photos.length;\n      if (total === 0) return null;\n      const nextIndex = (prev + direction + total) % total;\n      return nextIndex;\n    });\n  };\n  const removePhoto = async photoId => {\n    if (!photoId) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/photos/${photoId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        let message = 'Failed to delete photo';\n        try {\n          const payload = await response.json();\n          message = (payload === null || payload === void 0 ? void 0 : payload.message) || message;\n        } catch (parseError) {\n          try {\n            const text = await response.text();\n            if (text) message = text;\n          } catch (textError) {\n            // ignore\n          }\n        }\n        throw new Error(message);\n      }\n      setPhotos(prev => prev.filter(photo => getPhotoId(photo) !== photoId));\n      setActivePhotoIndex(null);\n      setPhotosError(null);\n    } catch (error) {\n      console.error('Failed to delete photo', error);\n      setPhotosError(error.message || 'Failed to delete photo');\n    }\n  };\n  const updatePhotoCaption = (photoId, caption) => {\n    setPhotos(prev => prev.map(photo => getPhotoId(photo) === photoId ? {\n      ...photo,\n      caption,\n      updatedAt: new Date().toISOString()\n    } : photo));\n  };\n  const formatPhotoTimestamp = value => {\n    if (!value) return 'Timestamp unavailable';\n    const date = new Date(value);\n    if (Number.isNaN(date.getTime())) return 'Timestamp unavailable';\n    return date.toLocaleString();\n  };\n  const describePhotoContext = photo => {\n    if (!photo) return '';\n    const parts = [];\n    if (photo.day) parts.push(`Day ${photo.day}`);\n    if (photo.moduleId) parts.push(`Module ${photo.moduleId}`);\n    return parts.length ? parts.join(' • ') : 'Captured during workshop';\n  };\n  const formatTime = seconds => {\n    if (seconds === null) return '--:--';\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  const getTimerColor = () => {\n    if (timeRemaining === null) return 'text-relish-ink-muted';\n    if (timerMode === 'stopwatch') return 'text-relish-smoke';\n    if (timeRemaining < 60) return 'text-relish-accent';\n    if (timeRemaining < 300) return 'text-relish-ink';\n    return 'text-relish-smoke';\n  };\n  const toggleModuleComplete = moduleId => {\n    const newCompleted = new Set(completedModules);\n    if (newCompleted.has(moduleId)) {\n      newCompleted.delete(moduleId);\n    } else {\n      newCompleted.add(moduleId);\n    }\n    setCompletedModules(newCompleted);\n  };\n  const nextModule = () => {\n    resetTimer(); // Reset timer when changing modules\n    if (currentModule < phase.modules.length - 1) {\n      setCurrentModule(currentModule + 1);\n    } else if (currentPhase < currentDayData.phases.length - 1) {\n      setCurrentPhase(currentPhase + 1);\n      setCurrentModule(0);\n    } else if (currentDay === 1) {\n      setCurrentDay(2);\n      setCurrentPhase(0);\n      setCurrentModule(0);\n    }\n  };\n  const prevModule = () => {\n    resetTimer(); // Reset timer when changing modules\n    if (currentModule > 0) {\n      setCurrentModule(currentModule - 1);\n    } else if (currentPhase > 0) {\n      setCurrentPhase(currentPhase - 1);\n      setCurrentModule(currentDayData.phases[currentPhase - 1].modules.length - 1);\n    } else if (currentDay === 2) {\n      setCurrentDay(1);\n      const day1Phases = workshopData.day1.phases;\n      setCurrentPhase(day1Phases.length - 1);\n      setCurrentModule(day1Phases[day1Phases.length - 1].modules.length - 1);\n    }\n  };\n  const PhaseIcon = phase.icon;\n  const participantCount = participants.length;\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(CHECKLIST_STORAGE_KEY, JSON.stringify(checklistState));\n    } catch (error) {\n      console.error('Failed to save checklist state', error);\n    }\n  }, [checklistState]);\n  useEffect(() => {\n    let isMounted = true;\n    const controller = new AbortController();\n    const fetchParticipants = async () => {\n      if (isMounted) {\n        setParticipantsLoading(true);\n        setParticipantsError(null);\n      }\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/participants`, {\n          signal: controller.signal\n        });\n        if (!response.ok) {\n          throw new Error('Failed to load participants');\n        }\n        const data = await response.json();\n        if (isMounted) {\n          setParticipants(data);\n        }\n      } catch (error) {\n        if (error.name === 'AbortError') return;\n        console.error('Failed to load participants', error);\n        if (isMounted) {\n          setParticipantsError(error.message || 'Failed to load participants');\n        }\n      } finally {\n        if (isMounted) {\n          setParticipantsLoading(false);\n        }\n      }\n    };\n    fetchParticipants();\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  }, []);\n  useEffect(() => {\n    let isMounted = true;\n    const controller = new AbortController();\n    const fetchPhotos = async () => {\n      if (isMounted) {\n        setPhotosLoading(true);\n        setPhotosError(null);\n      }\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/photos`, {\n          signal: controller.signal\n        });\n        let payload = null;\n        try {\n          payload = await response.json();\n        } catch (error) {\n          payload = null;\n        }\n        if (!response.ok) {\n          var _payload2;\n          throw new Error(((_payload2 = payload) === null || _payload2 === void 0 ? void 0 : _payload2.message) || 'Failed to load photos');\n        }\n        if (isMounted && Array.isArray(payload)) {\n          setPhotos(payload.map(item => normalizePhoto(item)).filter(Boolean));\n        }\n      } catch (error) {\n        if (error.name === 'AbortError') return;\n        console.error('Failed to load photos', error);\n        if (isMounted) {\n          setPhotosError(error.message || 'Failed to load photos');\n        }\n      } finally {\n        if (isMounted) {\n          setPhotosLoading(false);\n        }\n      }\n    };\n    fetchPhotos();\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  }, [normalizePhoto]);\n  useEffect(() => {\n    const videoElement = cameraVideoRef.current;\n    if (videoElement && cameraStream) {\n      videoElement.srcObject = cameraStream;\n      videoElement.play().catch(error => {\n        console.error('Unable to start camera preview', error);\n      });\n    }\n    return () => {\n      if (videoElement && videoElement.srcObject) {\n        videoElement.pause();\n        videoElement.srcObject = null;\n      }\n    };\n  }, [cameraStream]);\n  useEffect(() => {\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [cameraStream]);\n  const resetParticipantForm = () => {\n    setParticipantForm({\n      name: '',\n      email: '',\n      dietary: '',\n      cultural: '',\n      notes: ''\n    });\n    setEditingParticipantId(null);\n  };\n  const handleParticipantChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setParticipantForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleParticipantSubmit = async event => {\n    event.preventDefault();\n    const trimmedName = participantForm.name.trim();\n    if (!trimmedName) return;\n    const payload = {\n      name: trimmedName,\n      email: participantForm.email.trim(),\n      dietary: participantForm.dietary.trim(),\n      cultural: participantForm.cultural.trim(),\n      notes: participantForm.notes.trim()\n    };\n    const isEditing = Boolean(editingParticipantId);\n    const endpoint = isEditing ? `${API_BASE_URL}/api/participants/${editingParticipantId}` : `${API_BASE_URL}/api/participants`;\n    try {\n      const response = await fetch(endpoint, {\n        method: isEditing ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to save participant');\n      }\n      const savedParticipant = await response.json();\n      const savedId = savedParticipant._id || savedParticipant.id;\n      setParticipants(prev => {\n        if (isEditing) {\n          return prev.map(participant => (participant._id || participant.id) === savedId ? savedParticipant : participant);\n        }\n        return [savedParticipant, ...prev];\n      });\n      resetParticipantForm();\n    } catch (error) {\n      console.error('Failed to save participant', error);\n      window.alert('Could not save participant. Please try again.');\n    }\n  };\n  const handleEditParticipant = participant => {\n    var _participant$name, _participant$email, _participant$dietary, _participant$cultural, _participant$notes;\n    if (!participant) return;\n    setParticipantForm({\n      name: (_participant$name = participant.name) !== null && _participant$name !== void 0 ? _participant$name : '',\n      email: (_participant$email = participant.email) !== null && _participant$email !== void 0 ? _participant$email : '',\n      dietary: (_participant$dietary = participant.dietary) !== null && _participant$dietary !== void 0 ? _participant$dietary : '',\n      cultural: (_participant$cultural = participant.cultural) !== null && _participant$cultural !== void 0 ? _participant$cultural : '',\n      notes: (_participant$notes = participant.notes) !== null && _participant$notes !== void 0 ? _participant$notes : ''\n    });\n    setEditingParticipantId(participant._id || participant.id || null);\n    setShowParticipants(true);\n  };\n  const handleDeleteParticipant = async participant => {\n    const participantId = (participant === null || participant === void 0 ? void 0 : participant._id) || (participant === null || participant === void 0 ? void 0 : participant.id);\n    const name = (participant === null || participant === void 0 ? void 0 : participant.name) || 'this participant';\n    if (!participantId) {\n      window.alert('Unable to delete participant: missing identifier.');\n      return;\n    }\n    if (!window.confirm(`Remove ${name}?`)) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/participants/${participantId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok && response.status !== 204) {\n        throw new Error('Failed to delete participant');\n      }\n      setParticipants(prev => prev.filter(item => (item._id || item.id) !== participantId));\n      if (editingParticipantId === participantId) {\n        resetParticipantForm();\n      }\n    } catch (error) {\n      console.error('Failed to delete participant', error);\n      window.alert('Could not delete participant. Please try again.');\n    }\n  };\n  const handleExportParticipants = () => {\n    const blob = new Blob([JSON.stringify(participants, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'participants.json';\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  const handleImportParticipants = event => {\n    var _input$files;\n    const input = event.target;\n    const file = (_input$files = input.files) === null || _input$files === void 0 ? void 0 : _input$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const result = typeof reader.result === 'string' ? reader.result : '';\n        const parsed = JSON.parse(result);\n        if (!Array.isArray(parsed)) {\n          window.alert('Import failed: JSON must be an array.');\n        } else {\n          const base = Date.now();\n          const normalised = parsed.map((entry, idx) => {\n            var _entry$id, _entry$name, _entry$email, _entry$dietary, _entry$cultural, _entry$notes;\n            return {\n              id: (_entry$id = entry === null || entry === void 0 ? void 0 : entry.id) !== null && _entry$id !== void 0 ? _entry$id : base + idx,\n              name: (_entry$name = entry === null || entry === void 0 ? void 0 : entry.name) !== null && _entry$name !== void 0 ? _entry$name : '',\n              email: (_entry$email = entry === null || entry === void 0 ? void 0 : entry.email) !== null && _entry$email !== void 0 ? _entry$email : '',\n              dietary: (_entry$dietary = entry === null || entry === void 0 ? void 0 : entry.dietary) !== null && _entry$dietary !== void 0 ? _entry$dietary : '',\n              cultural: (_entry$cultural = entry === null || entry === void 0 ? void 0 : entry.cultural) !== null && _entry$cultural !== void 0 ? _entry$cultural : '',\n              notes: (_entry$notes = entry === null || entry === void 0 ? void 0 : entry.notes) !== null && _entry$notes !== void 0 ? _entry$notes : ''\n            };\n          }).filter(entry => entry.name.trim().length > 0);\n          setParticipants(normalised);\n          resetParticipantForm();\n        }\n      } catch (error) {\n        console.error('Import error', error);\n        window.alert('Import failed: invalid JSON.');\n      } finally {\n        input.value = '';\n      }\n    };\n    reader.readAsText(file);\n  };\n  const handleCloseParticipants = () => {\n    setShowParticipants(false);\n    resetParticipantForm();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relish-shell\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/90 backdrop-blur border-b border-relish-linen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\",\n              children: \"Relish methodology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-display text-relish-ink mt-2\",\n              children: \"Food Memories Workshop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-relish-ink-muted\",\n              children: \"Interactive field guide for facilitators\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPhotoManager(true),\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Images, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 17\n              }, this), \"Photos (\", photos.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1087,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                resetParticipantForm();\n                setShowParticipants(true);\n              },\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-warm bg-white text-relish-ink shadow-sm hover:bg-relish-paper transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 17\n              }, this), \"Participants (\", participantCount, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1094,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowTimerSettings(!showTimerSettings),\n              className: `flex items-center gap-2 px-4 py-2 rounded-full border shadow-sm transition-colors ${timerActive ? 'bg-relish-ink text-white border-relish-ink' : 'bg-white text-relish-ink border-relish-linen hover:bg-relish-paper'}`,\n              children: [/*#__PURE__*/_jsxDEV(Timer, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 17\n              }, this), \"Timer\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowNotes(!showNotes),\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-ink text-relish-ink shadow-sm hover:bg-relish-ink hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 17\n              }, this), \"Notes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowChecklist(!showChecklist),\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-paper text-relish-ink border border-relish-warm shadow-sm hover:bg-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1126,\n                columnNumber: 17\n              }, this), \"Checklist\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1079,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1078,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-6 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-10 overflow-hidden rounded-[32px] border border-relish-linen bg-white/80 shadow-relish-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 opacity-60 mix-blend-multiply pointer-events-none\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: relishLineArt,\n            alt: \"\",\n            \"aria-hidden\": \"true\",\n            className: \"h-full w-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative grid gap-6 p-8 md:grid-cols-[2.2fr,1fr]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\",\n              children: \"Memory, method, material\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl md:text-4xl font-display text-relish-ink mt-3 mb-4\",\n              children: \"Guide intimate food narratives with academic care\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-base text-relish-ink-muted max-w-2xl\",\n              children: \"This facilitator console mirrors the RELISH manual\\u2019s serif typography, coral accents, and archival tactility. Track phases, cue timers, organize participants, and document culinary heritage within a single scholarly surface.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex flex-wrap gap-3 text-sm text-relish-ink\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 rounded-full border border-relish-linen bg-white/80\",\n                children: \"Narrative practice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 rounded-full border border-relish-linen bg-white/80\",\n                children: \"Speculative recipes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 rounded-full border border-relish-linen bg-white/80\",\n                children: \"Embodied archives\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-3xl border border-relish-warm bg-white/90 p-6 shadow-inner\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs uppercase tracking-[0.25em] text-relish-smoke\",\n              children: \"Current focus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 text-2xl font-display text-relish-ink\",\n              children: currentDayData.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-relish-ink-muted\",\n              children: currentDayData.subtitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-2 text-sm text-relish-ink\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1161,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [module.duration, \" \\u2022 \", module.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Day \", currentDay, \" \\xB7 Phase \", currentPhase + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: phase.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1135,\n        columnNumber: 9\n      }, this), timeRemaining !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed top-24 right-6 z-40 min-w-[280px] rounded-2xl border border-relish-linen bg-white/95 p-6 shadow-relish-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs font-semibold uppercase tracking-[0.4em] text-relish-smoke mb-3\",\n            children: timerMode === 'countdown' ? 'Time Remaining' : 'Elapsed Time'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-5xl font-display mb-4 ${getTimerColor()} transition-colors`,\n            children: formatTime(timeRemaining)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 justify-center text-sm\",\n            children: [timerActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: pauseTimer,\n              className: \"flex items-center gap-2 rounded-full border border-relish-ink px-4 py-2 text-relish-ink hover:bg-relish-ink hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Pause, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 21\n              }, this), \"Pause\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1189,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setTimerActive(true),\n              className: \"flex items-center gap-2 rounded-full bg-relish-accent px-4 py-2 text-white shadow-sm hover:bg-relish-accent-dark transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1201,\n                columnNumber: 21\n              }, this), \"Resume\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetTimer,\n              className: \"flex items-center gap-2 rounded-full border border-relish-linen px-4 py-2 text-relish-ink hover:bg-relish-paper transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 19\n              }, this), \"Reset\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 15\n          }, this), timerMode === 'countdown' && timeRemaining < 60 && timeRemaining > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-relish-accent font-semibold tracking-wide\",\n            children: \"\\u26A0\\uFE0F Less than 1 minute remaining\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1214,\n            columnNumber: 17\n          }, this), timerMode === 'countdown' && timeRemaining === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-relish-accent font-semibold\",\n            children: \"\\u23F0 Time's up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1180,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentDay(1);\n            setCurrentPhase(0);\n            setCurrentModule(0);\n          },\n          className: `flex-1 rounded-2xl border px-6 py-6 transition-all ${currentDay === 1 ? 'bg-white shadow-relish-card border-relish-ink' : 'bg-transparent border-relish-linen hover:bg-white/70'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-display text-relish-ink mb-1\",\n              children: \"Day 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-relish-ink-muted\",\n              children: \"Mapping & Writing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs uppercase tracking-[0.3em] text-relish-smoke mt-3\",\n              children: \"Narrative session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentDay(2);\n            setCurrentPhase(0);\n            setCurrentModule(0);\n          },\n          className: `flex-1 rounded-2xl border px-6 py-6 transition-all ${currentDay === 2 ? 'bg-white shadow-relish-card border-relish-ink' : 'bg-transparent border-relish-linen hover:bg-white/70'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-display text-relish-ink mb-1\",\n              children: \"Day 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-relish-ink-muted\",\n              children: \"Cooking & Sharing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs uppercase tracking-[0.3em] text-relish-smoke mt-3\",\n              children: \"Cooking session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-4 mb-8 md:grid-cols-3\",\n        children: currentDayData.phases.map((p, idx) => {\n          const PIcon = p.icon;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setCurrentPhase(idx);\n              setCurrentModule(0);\n            },\n            className: `rounded-2xl border px-5 py-5 text-left transition-all ${currentPhase === idx ? `${p.color} shadow-relish-card` : 'bg-white border-relish-linen hover:bg-white/80'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 flex justify-start\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative inline-flex h-12 w-12 items-center justify-center rounded-full border border-relish-linen bg-white/70\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: relishLineArt,\n                  alt: \"\",\n                  \"aria-hidden\": \"true\",\n                  className: \"absolute inset-0 h-full w-full object-cover opacity-40 mix-blend-multiply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PIcon, {\n                  size: 22,\n                  className: \"relative text-relish-ink\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-semibold text-relish-ink\",\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-xs uppercase tracking-[0.3em] text-relish-smoke\",\n              children: [\"Phase \", idx + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1285,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 rounded-[28px] shadow-relish-card border border-relish-linen overflow-hidden mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${phase.color} border-b p-6`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-4 md:flex-row md:items-start md:justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative inline-flex h-16 w-16 items-center justify-center rounded-2xl border border-relish-linen bg-white/70\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: relishLineArt,\n                  alt: \"\",\n                  \"aria-hidden\": \"true\",\n                  className: \"absolute inset-0 h-full w-full object-cover opacity-40 mix-blend-multiply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(PhaseIcon, {\n                  size: 28,\n                  className: \"relative text-relish-ink\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1304,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs uppercase tracking-[0.3em] text-relish-smoke mb-2\",\n                  children: [\"Phase \", currentPhase + 1, \" \\u2022 Module \", currentModule + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1307,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-3xl font-display text-relish-ink\",\n                  children: module.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1310,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleModuleComplete(module.id),\n              className: `flex items-center gap-2 rounded-full border px-4 py-2 text-sm transition-all ${completedModules.has(module.id) ? 'border-transparent bg-relish-accent text-white shadow-sm' : 'border-relish-ink text-relish-ink hover:bg-relish-ink hover:text-white'}`,\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 17\n              }, this), completedModules.has(module.id) ? 'Marked Complete' : 'Mark Complete']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex flex-wrap items-center gap-6 text-sm text-relish-ink\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: module.duration\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Small groups recommended\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1330,\n              columnNumber: 15\n            }, this), !timerActive && timeRemaining === null && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => startTimer(),\n              className: \"ml-auto flex items-center gap-2 rounded-full bg-relish-accent px-4 py-2 text-white shadow-sm text-sm font-semibold hover:bg-relish-accent-dark\",\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1339,\n                columnNumber: 19\n              }, this), \"Start Timer (\", module.duration, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-relish-paper border-l-4 border-relish-accent/70 p-4 rounded-2xl mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-relish-ink mb-2 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 17\n              }, this), \"Purpose\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-relish-ink-muted\",\n              children: module.purpose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-display text-2xl text-relish-ink mb-4\",\n              children: \"Steps to Follow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: module.steps.map((step, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 w-8 h-8 bg-relish-accent text-white rounded-full flex items-center justify-center font-semibold\",\n                  children: idx + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-relish-ink-muted pt-1\",\n                  children: step\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 21\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1362,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-display text-2xl text-relish-ink mb-3 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1375,\n                columnNumber: 17\n              }, this), \"Materials Needed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: module.materials.map((material, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 bg-relish-paper text-relish-ink rounded-full text-sm border border-relish-linen\",\n                children: material\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-relish-paper border border-relish-linen p-4 rounded-2xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-relish-ink mb-2\",\n              children: \"\\uD83D\\uDCA1 Facilitation Tips\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1\",\n              children: module.tips.map((tip, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"text-relish-ink-muted text-sm\",\n                children: [\"\\u2022 \", tip]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1392,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: prevModule,\n          disabled: currentDay === 1 && currentPhase === 0 && currentModule === 0,\n          className: \"flex items-center gap-2 rounded-full border border-relish-linen px-6 py-3 text-relish-ink hover:bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 13\n          }, this), \"Previous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-sm text-relish-ink-muted\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-relish-ink\",\n            children: [\"Day \", currentDay, \" \\u2022 Phase \", currentPhase + 1, \" of \", currentDayData.phases.length, \" \\u2022 Module \", currentModule + 1, \" of \", phase.modules.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mt-1\",\n            children: [completedModules.size, \" modules completed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextModule,\n          disabled: currentDay === 2 && currentPhase === currentDayData.phases.length - 1 && currentModule === phase.modules.length - 1,\n          className: \"flex items-center gap-2 rounded-full bg-relish-accent px-6 py-3 text-white shadow-sm hover:bg-relish-accent-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1400,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1134,\n      columnNumber: 7\n    }, this), showTimerSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 rounded-3xl shadow-relish-card max-w-md w-full border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-relish-linen\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-display text-relish-ink\",\n            children: \"Timer Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-3 text-relish-ink\",\n              children: \"Quick Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startTimer(),\n                className: \"w-full px-4 py-3 bg-relish-accent text-white rounded-2xl hover:bg-relish-accent-dark transition-colors text-left font-semibold\",\n                children: [\"\\u23F1\\uFE0F Countdown Timer (\", module.duration, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startStopwatch,\n                className: \"w-full px-4 py-3 rounded-2xl border border-relish-ink text-left text-relish-ink hover:bg-relish-ink hover:text-white transition-colors font-semibold\",\n                children: \"\\u23F0 Stopwatch (Count Up)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1447,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-3 text-relish-ink\",\n              children: \"Custom Countdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1457,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: customTime,\n                onChange: e => setCustomTime(e.target.value),\n                placeholder: \"Minutes\",\n                min: \"1\",\n                max: \"240\",\n                className: \"flex-1 px-4 py-2 border border-relish-linen rounded-2xl focus:border-relish-ink focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1459,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  const mins = parseInt(customTime);\n                  if (mins > 0) {\n                    startTimer(mins);\n                    setCustomTime('');\n                  }\n                },\n                disabled: !customTime || parseInt(customTime) <= 0,\n                className: \"px-4 py-2 rounded-2xl bg-relish-ink text-white hover:bg-relish-ink/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1468,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1458,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-2 text-relish-ink\",\n              children: \"Preset Durations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2 text-sm\",\n              children: [5, 10, 15, 20, 30, 45, 60, 90, 120].map(mins => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startTimer(mins),\n                className: \"px-3 py-2 rounded-2xl border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper transition-colors font-medium\",\n                children: [mins, \" min\"]\n              }, mins, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1488,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t border-relish-linen flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowTimerSettings(false),\n            className: \"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1500,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1499,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1433,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1432,\n      columnNumber: 9\n    }, this), showPhotoManager && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/98 rounded-[32px] shadow-relish-card max-w-6xl w-full max-h-[90vh] flex flex-col border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-relish-linen flex items-center justify-between bg-white/80\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-display text-relish-ink\",\n              children: \"Workshop Photo Library\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-relish-ink-muted\",\n              children: \"Document memory maps, cooking sessions, and collaborative moments.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: openCameraCapture,\n              disabled: photoUploading,\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-ink text-white hover:bg-relish-ink/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(Camera, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1526,\n                columnNumber: 19\n              }, this), \"Live Capture\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1521,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: openPhotoUploader,\n              disabled: photoUploading,\n              className: \"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1534,\n                columnNumber: 19\n              }, this), photoUploading ? 'Uploading...' : 'Upload Photos']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1529,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closePhotoManager,\n              className: \"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\",\n              children: [/*#__PURE__*/_jsxDEV(X, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1541,\n                columnNumber: 19\n              }, this), \"Close\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1537,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1520,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1515,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 flex-1 flex flex-col gap-4 overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-relish-ink font-semibold\",\n              children: [photos.length, \" photo\", photos.length === 1 ? '' : 's', \" stored\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-relish-ink-muted\",\n              children: [\"Accepts JPG, PNG, WebP, HEIC \\u2022 Max \", Math.round(PHOTO_MAX_SIZE_BYTES / (1024 * 1024)), \"MB per image\", photoUploading && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-relish-accent font-semibold\",\n                children: \"Uploading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1551,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1547,\n            columnNumber: 15\n          }, this), photosError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-3 bg-relish-paper border border-relish-accent text-relish-ink rounded-2xl\",\n            children: photosError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1557,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-auto\",\n            children: photosLoading && photos.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full flex flex-col items-center justify-center text-center text-relish-ink border-2 border-dashed border-relish-linen rounded-2xl p-10\",\n              children: [/*#__PURE__*/_jsxDEV(Images, {\n                size: 48,\n                className: \"mb-4 animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1564,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-semibold\",\n                children: \"Loading photos...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm mt-2 text-relish-ink-muted\",\n                children: \"Fetching your workshop gallery from the server.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1566,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1563,\n              columnNumber: 19\n            }, this) : photos.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full flex flex-col items-center justify-center text-center text-relish-ink border-2 border-dashed border-relish-linen rounded-2xl p-10\",\n              children: [/*#__PURE__*/_jsxDEV(Images, {\n                size: 48,\n                className: \"mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1570,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-semibold\",\n                children: \"No photos yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1571,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm mt-2 text-relish-ink-muted\",\n                children: \"Capture memory maps, cooking sessions, and group moments to build a visual archive.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1572,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: openPhotoUploader,\n                className: \"mt-6 flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark\",\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1577,\n                  columnNumber: 23\n                }, this), \"Add your first photo\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1573,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1569,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\",\n              children: photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => openPhotoPreview(index),\n                className: \"bg-white/90 border border-relish-linen rounded-2xl shadow-sm hover:shadow-md transition-shadow text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative aspect-video overflow-hidden rounded-t-xl\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: buildPhotoUrl(photo),\n                    alt: photo.caption || photo.originalName || 'Workshop photo',\n                    className: \"h-full w-full object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1591,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Maximize2, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1597,\n                      columnNumber: 29\n                    }, this), \" View\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1596,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1590,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-sm text-relish-ink truncate\",\n                    children: photo.caption || photo.originalName || 'Workshop photo'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-relish-ink-muted\",\n                    children: formatPhotoTimestamp(photo.createdAt)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1602,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-relish-ink-muted\",\n                    children: describePhotoContext(photo)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1603,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 25\n                }, this)]\n              }, getPhotoId(photo) || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1584,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1582,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1546,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: photoInputRef,\n          type: \"file\",\n          accept: \"image/*\",\n          capture: \"environment\",\n          multiple: true,\n          onChange: handlePhotoUploadChange,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1611,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1514,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1513,\n      columnNumber: 9\n    }, this), showNotes && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 rounded-[28px] shadow-relish-card max-w-2xl w-full max-h-[80vh] flex flex-col border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-relish-linen\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-display text-relish-ink\",\n            children: \"Facilitator Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1629,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1628,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 flex-1 overflow-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: facilitatorNotes,\n            onChange: e => setFacilitatorNotes(e.target.value),\n            placeholder: \"Add your notes, observations, or reminders here...\",\n            className: \"w-full h-full min-h-[300px] p-4 border border-relish-linen rounded-2xl focus:border-relish-ink focus:outline-none resize-none bg-white/80 text-relish-ink\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1632,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1631,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t border-relish-linen flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNotes(false),\n            className: \"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1640,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1639,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1627,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1626,\n      columnNumber: 9\n    }, this), showChecklist && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 rounded-[28px] shadow-relish-card max-w-2xl w-full max-h-[80vh] flex flex-col border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-relish-linen\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-display text-relish-ink\",\n            children: \"Pre-Workshop Checklist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1656,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1655,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 flex-1 overflow-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: CHECKLIST_SECTIONS.map(section => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${section.containerClass} p-4 rounded-lg`,\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold mb-3\",\n                children: section.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1662,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: section.items.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"w-5 h-5\",\n                    checked: Boolean(checklistState[item.id]),\n                    onChange: () => toggleChecklistItem(item.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1666,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: item.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1672,\n                    columnNumber: 27\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1665,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1663,\n                columnNumber: 21\n              }, this)]\n            }, section.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1661,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1659,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1658,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t border-relish-linen flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowChecklist(false),\n            className: \"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1681,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1680,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1654,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1653,\n      columnNumber: 9\n    }, this), showParticipants && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white/95 rounded-[32px] shadow-relish-card max-w-5xl w-full max-h-[85vh] flex flex-col border border-relish-linen overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 pointer-events-none opacity-50 mix-blend-multiply\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: relishLineArt,\n            alt: \"\",\n            \"aria-hidden\": \"true\",\n            className: \"h-full w-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1697,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-br from-white/80 via-transparent to-relish-paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1698,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1696,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6 border-b border-relish-linen flex items-center justify-between bg-white/80 backdrop-blur\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\",\n                children: \"Participant registry\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1703,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-3xl font-display text-relish-ink\",\n                children: \"Roster & care notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1704,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-relish-ink-muted\",\n                children: \"Track attendees, sensitivities, and cultural frames in one scholarly sheet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1705,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1702,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseParticipants,\n              className: \"p-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n              \"aria-label\": \"Close participant modal\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1712,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1707,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1701,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6 space-y-6 overflow-y-auto\",\n            children: [participantsError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-3 bg-relish-paper border border-relish-accent text-relish-ink rounded-2xl\",\n              children: participantsError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1717,\n              columnNumber: 19\n            }, this), participantsLoading && participants.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-3 bg-white/70 border border-dashed border-relish-linen text-relish-ink rounded-2xl\",\n              children: \"Loading participants...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1722,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleParticipantSubmit,\n              className: \"bg-white/85 border border-relish-linen rounded-[28px] p-6 space-y-4 shadow-inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-[220px]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\",\n                    htmlFor: \"participant-name\",\n                    children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-relish-accent\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1730,\n                      columnNumber: 30\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1729,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"participant-name\",\n                    name: \"name\",\n                    value: participantForm.name,\n                    onChange: handleParticipantChange,\n                    required: true,\n                    placeholder: \"Participant full name\",\n                    className: \"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1732,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1728,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-[220px]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\",\n                    htmlFor: \"participant-email\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1743,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"participant-email\",\n                    name: \"email\",\n                    type: \"email\",\n                    value: participantForm.email,\n                    onChange: handleParticipantChange,\n                    placeholder: \"example@email.com\",\n                    className: \"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1746,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1742,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1727,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-[220px]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\",\n                    htmlFor: \"participant-dietary\",\n                    children: \"Dietary needs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1759,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"participant-dietary\",\n                    name: \"dietary\",\n                    value: participantForm.dietary,\n                    onChange: handleParticipantChange,\n                    placeholder: \"Vegetarian, allergies, etc.\",\n                    className: \"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1762,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1758,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-[220px]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\",\n                    htmlFor: \"participant-cultural\",\n                    children: \"Cultural background\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1772,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"participant-cultural\",\n                    name: \"cultural\",\n                    value: participantForm.cultural,\n                    onChange: handleParticipantChange,\n                    placeholder: \"Region, heritage, influences\",\n                    className: \"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1775,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1771,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1757,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\",\n                  htmlFor: \"participant-notes\",\n                  children: \"Notes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1786,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"participant-notes\",\n                  name: \"notes\",\n                  value: participantForm.notes,\n                  onChange: handleParticipantChange,\n                  placeholder: \"Observations, accessibility needs, preferred pronouns, etc.\",\n                  rows: 3,\n                  className: \"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none resize-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1789,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1785,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark transition-colors\",\n                  children: editingParticipantId ? 'Update Participant' : 'Add Participant'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1800,\n                  columnNumber: 21\n                }, this), editingParticipantId && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: resetParticipantForm,\n                  className: \"px-5 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1807,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1799,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center justify-between gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-relish-ink font-semibold\",\n                children: [participantCount, \" participant\", participantCount === 1 ? '' : 's', \" registered\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1819,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleExportParticipants,\n                  className: \"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1827,\n                    columnNumber: 23\n                  }, this), \"Export JSON\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1823,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    var _fileInputRef$current;\n                    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                  },\n                  className: \"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(Upload, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1834,\n                    columnNumber: 23\n                  }, this), \"Import JSON\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1830,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: fileInputRef,\n                  type: \"file\",\n                  accept: \"application/json\",\n                  onChange: handleImportParticipants,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1837,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1822,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 17\n            }, this), participantCount === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/80 border border-dashed border-relish-linen rounded-2xl p-10 text-center text-relish-ink shadow-inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-semibold\",\n                children: \"No participants registered yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1849,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm mt-2 text-relish-ink-muted\",\n                children: \"Use the form above to add facilitators and attendees as you prepare for the workshop.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1850,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1848,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-4\",\n              children: participants.map((participant, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/90 border border-relish-linen rounded-2xl p-5 shadow-sm backdrop-blur\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-xl font-display text-relish-ink\",\n                      children: participant.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1861,\n                      columnNumber: 29\n                    }, this), participant.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-relish-ink-muted\",\n                      children: participant.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1863,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1860,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleEditParticipant(participant),\n                      className: \"p-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n                      title: \"Edit participant\",\n                      children: /*#__PURE__*/_jsxDEV(Pencil, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1872,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1867,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDeleteParticipant(participant),\n                      className: \"p-2 rounded-full border border-relish-accent text-relish-accent hover:bg-relish-accent hover:text-white\",\n                      title: \"Remove participant\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1879,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1874,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1866,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1859,\n                  columnNumber: 25\n                }, this), participant.dietary && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-relish-ink\",\n                    children: \"Dietary:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1885,\n                    columnNumber: 29\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-relish-ink-muted\",\n                    children: participant.dietary\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1886,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1884,\n                  columnNumber: 27\n                }, this), participant.cultural && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-relish-ink\",\n                    children: \"Cultural Background:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1891,\n                    columnNumber: 29\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-relish-ink-muted\",\n                    children: participant.cultural\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1892,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1890,\n                  columnNumber: 27\n                }, this), participant.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-relish-ink-muted bg-relish-paper rounded-2xl p-3\",\n                  children: participant.notes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1896,\n                  columnNumber: 27\n                }, this)]\n              }, participant._id || participant.id || `${participant.name}-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1855,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1853,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1715,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1700,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1695,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1694,\n      columnNumber: 9\n    }, this), activePhotoIndex !== null && photos[activePhotoIndex] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/80 flex flex-col md:flex-row items-center justify-center gap-6 p-6 z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => showNextPhoto(-1),\n        className: \"hidden md:flex items-center justify-center h-12 w-12 rounded-full bg-white/20 text-white hover:bg-white/30\",\n        \"aria-label\": \"Previous photo\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1918,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1913,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/98 rounded-[28px] shadow-relish-card max-w-3xl w-full overflow-hidden border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between px-4 py-3 border-b border-relish-linen bg-white/80\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-display text-xl text-relish-ink\",\n              children: \"Photo details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1923,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-relish-ink-muted\",\n              children: describePhotoContext(photos[activePhotoIndex])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1924,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1922,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removePhoto(getPhotoId(photos[activePhotoIndex])),\n              className: \"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-accent text-relish-accent hover:bg-relish-accent hover:text-white text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1931,\n                columnNumber: 19\n              }, this), \" Delete\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1927,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closePhotoPreview,\n              className: \"p-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\",\n              \"aria-label\": \"Close preview\",\n              children: /*#__PURE__*/_jsxDEV(XCircle, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1938,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1933,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1926,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1921,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-black\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: buildPhotoUrl(photos[activePhotoIndex]),\n            alt: photos[activePhotoIndex].caption || photos[activePhotoIndex].originalName || 'Workshop photo',\n            className: \"max-h-[60vh] w-full object-contain bg-black\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1943,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1942,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-4 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-relish-ink-muted\",\n            children: [\"Captured \", formatPhotoTimestamp(photos[activePhotoIndex].createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1950,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-relish-ink\",\n            children: [\"Caption\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: photos[activePhotoIndex].caption || '',\n              onChange: event => updatePhotoCaption(getPhotoId(photos[activePhotoIndex]), event.target.value),\n              placeholder: \"Add a short description\",\n              className: \"mt-1 w-full px-3 py-2 border border-relish-linen rounded-2xl focus:border-relish-accent focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1955,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1953,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1949,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1920,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => showNextPhoto(1),\n        className: \"hidden md:flex items-center justify-center h-12 w-12 rounded-full bg-white/20 text-white hover:bg-white/30\",\n        \"aria-label\": \"Next photo\",\n        children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1970,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1965,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex md:hidden gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => showNextPhoto(-1),\n          className: \"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1977,\n            columnNumber: 15\n          }, this), \" Prev\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1973,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => showNextPhoto(1),\n          className: \"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg\",\n          children: [\"Next \", /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1983,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1979,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1972,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1912,\n      columnNumber: 9\n    }, this), showCameraCapture && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-[60]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/98 rounded-[32px] shadow-relish-card w-full max-w-3xl overflow-hidden border border-relish-linen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between px-5 py-4 border-b border-relish-linen bg-white/80\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-lg font-display text-relish-ink\",\n              children: \"Live Camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1995,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-relish-ink-muted\",\n              children: \"Position your device and capture a moment from the workshop.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1996,\n              columnNumber: 17\n            }, this), cameraError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-relish-accent mt-1\",\n              children: cameraError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1997,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1994,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeCameraCapture,\n            className: \"p-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\",\n            \"aria-label\": \"Close camera\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2004,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1999,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1993,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-black\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: cameraVideoRef,\n            playsInline: true,\n            muted: true,\n            className: \"w-full max-h-[60vh] object-contain bg-black\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2008,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2007,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-5 py-4 flex items-center justify-between bg-white/90\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-relish-ink-muted\",\n            children: cameraStream ? 'Camera ready' : 'Waiting for camera access…'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2016,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: capturePhotoFromCamera,\n              disabled: !cameraStream || photoUploading,\n              className: \"flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white hover:bg-relish-accent-dark disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(Camera, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2025,\n                columnNumber: 19\n              }, this), \" Capture\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2020,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeCameraCapture,\n              className: \"px-4 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2027,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2019,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2015,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: cameraCanvasRef,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2035,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1992,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1991,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1076,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkshopTool, \"yYEM39NPOR9s3EDeOFvzeYqn3ik=\");\n_c = WorkshopTool;\nexport default WorkshopTool;\nvar _c;\n$RefreshReg$(_c, \"WorkshopTool\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","ChevronRight","ChevronLeft","Clock","Users","CheckCircle","BookOpen","Utensils","MapPin","Lightbulb","FileText","Play","Pause","RotateCcw","Timer","UserPlus","Pencil","Trash2","Upload","Download","X","Images","Camera","Maximize2","XCircle","relishLineArt","logo","jsxDEV","_jsxDEV","CHECKLIST_STORAGE_KEY","PHOTO_MAX_SIZE_BYTES","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","CHECKLIST_SECTIONS","id","title","containerClass","items","label","createDefaultChecklistState","base","forEach","section","item","WorkshopTool","_s","currentDay","setCurrentDay","currentPhase","setCurrentPhase","currentModule","setCurrentModule","completedModules","setCompletedModules","Set","showNotes","setShowNotes","facilitatorNotes","setFacilitatorNotes","showChecklist","setShowChecklist","checklistState","setChecklistState","defaults","stored","window","localStorage","getItem","parsed","JSON","parse","Array","isArray","error","console","timerActive","setTimerActive","timeRemaining","setTimeRemaining","timerMode","setTimerMode","customTime","setCustomTime","showTimerSettings","setShowTimerSettings","participants","setParticipants","participantsLoading","setParticipantsLoading","participantsError","setParticipantsError","showParticipants","setShowParticipants","participantForm","setParticipantForm","name","email","dietary","cultural","notes","editingParticipantId","setEditingParticipantId","fileInputRef","photos","setPhotos","photosLoading","setPhotosLoading","photosError","setPhotosError","photoUploading","setPhotoUploading","showPhotoManager","setShowPhotoManager","activePhotoIndex","setActivePhotoIndex","photoInputRef","showCameraCapture","setShowCameraCapture","cameraStream","setCameraStream","cameraError","setCameraError","cameraVideoRef","cameraCanvasRef","splashState","setSplashState","dismissSplashScreen","workshopData","day1","subtitle","phases","icon","color","modules","duration","purpose","steps","materials","tips","day2","currentDayData","phase","module","parseDuration","match","parseInt","interval","setInterval","prev","playTimerSound","clearInterval","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","startTimer","minutes","mins","startStopwatch","pauseTimer","resetTimer","toggleChecklistItem","itemId","normalizePhoto","photo","storagePath","replace","_id","Date","now","Math","random","toString","slice","originalName","filename","caption","day","Number","isInteger","phaseIndex","moduleId","trim","length","participantIds","createdAt","toISOString","updatedAt","mimeType","size","getPhotoId","buildPhotoUrl","path","uploadPhotoFile","file","formData","FormData","append","String","response","fetch","method","body","payload","json","ok","_payload","message","Error","normalized","handlePhotoUploadChange","event","fileList","from","target","files","oversize","find","round","invalidType","startsWith","uploaded","push","openPhotoUploader","_photoInputRef$curren","current","click","openPhotoPreview","index","closePhotoPreview","closePhotoManager","getTracks","track","openCameraCapture","navigator","mediaDevices","getUserMedia","stream","video","facingMode","audio","closeCameraCapture","capturePhotoFromCamera","videoElement","canvasElement","width","videoWidth","height","videoHeight","context","getContext","drawImage","blob","Promise","resolve","toBlob","finalBlob","fallbackDataUrl","toDataURL","fileName","captureFile","File","showNextPhoto","direction","total","nextIndex","removePhoto","photoId","parseError","text","textError","filter","updatePhotoCaption","map","formatPhotoTimestamp","date","isNaN","getTime","toLocaleString","describePhotoContext","parts","join","formatTime","seconds","floor","secs","padStart","getTimerColor","toggleModuleComplete","newCompleted","has","delete","add","nextModule","prevModule","day1Phases","PhaseIcon","participantCount","setItem","stringify","isMounted","controller","AbortController","fetchParticipants","signal","data","abort","fetchPhotos","_payload2","Boolean","srcObject","play","catch","pause","resetParticipantForm","handleParticipantChange","handleParticipantSubmit","preventDefault","trimmedName","isEditing","endpoint","headers","savedParticipant","savedId","participant","alert","handleEditParticipant","_participant$name","_participant$email","_participant$dietary","_participant$cultural","_participant$notes","handleDeleteParticipant","participantId","confirm","status","handleExportParticipants","Blob","url","URL","createObjectURL","link","document","createElement","href","download","revokeObjectURL","handleImportParticipants","_input$files","input","reader","FileReader","onload","result","normalised","entry","idx","_entry$id","_entry$name","_entry$email","_entry$dietary","_entry$cultural","_entry$notes","readAsText","handleCloseParticipants","className","children","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","p","PIcon","step","material","tip","disabled","onChange","e","placeholder","min","max","ref","accept","capture","multiple","checked","onSubmit","htmlFor","required","rows","_fileInputRef$current","playsInline","muted","_c","$RefreshReg$"],"sources":["/Users/dsi/Projetos/food-memories-workshop/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChevronRight, ChevronLeft, Clock, Users, CheckCircle, BookOpen, Utensils, MapPin, Lightbulb, FileText, Play, Pause, RotateCcw, Timer, UserPlus, Pencil, Trash2, Upload, Download, X, Images, Camera, Maximize2, XCircle } from 'lucide-react';\nimport relishLineArt from './img/relish-lineart.svg';\nimport logo from './img/logo.png';\n\nconst CHECKLIST_STORAGE_KEY = 'food-memories-checklist';\nconst PHOTO_MAX_SIZE_BYTES = 10 * 1024 * 1024; // 10MB limit per requirements\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:4000';\n\nconst CHECKLIST_SECTIONS = [\n  {\n    id: 'before-workshop',\n    title: 'Before the Workshop',\n    containerClass: 'bg-relish-paper border border-relish-linen shadow-sm',\n    items: [\n      { id: 'before-purpose', label: 'Engage with participants about purpose and expectations' },\n      { id: 'before-agreement', label: 'Create \"Community Agreement\" ground rules' },\n      { id: 'before-space', label: 'Prepare comfortable and welcoming space' },\n      { id: 'before-consent', label: 'Precirculate consent forms' },\n      { id: 'before-needs', label: 'Gather participant needs via pre-workshop forms' }\n    ]\n  },\n  {\n    id: 'day1-materials',\n    title: 'Day 1 Materials',\n    containerClass: 'bg-white border border-relish-warm shadow-sm',\n    items: [\n      { id: 'day1-paper', label: 'Large paper sheets for mapping' },\n      { id: 'day1-art', label: 'Colored pens, markers, art supplies' },\n      { id: 'day1-journals', label: 'Journals or notebooks' },\n      { id: 'day1-prompts', label: 'Printed prompts and vocabulary cards' }\n    ]\n  },\n  {\n    id: 'day2-setup',\n    title: 'Day 2 Kitchen Setup',\n    containerClass: 'bg-relish-paper-deep border border-relish-clay shadow-sm',\n    items: [\n      { id: 'day2-ingredients', label: 'All ingredients for Future Recipe' },\n      { id: 'day2-equipment', label: 'Kitchen equipment and utensils' },\n      { id: 'day2-safety', label: 'Safety equipment (first aid, aprons, gloves)' },\n      { id: 'day2-recording', label: 'Recording devices (camera, audio, video)' },\n      { id: 'day2-documentation', label: 'Documentation materials for observer' }\n    ]\n  }\n];\n\nconst createDefaultChecklistState = () => {\n  const base = {};\n  CHECKLIST_SECTIONS.forEach((section) => {\n    section.items.forEach((item) => {\n      base[item.id] = false;\n    });\n  });\n  return base;\n};\n\nconst WorkshopTool = () => {\n  const [currentDay, setCurrentDay] = useState(1);\n  const [currentPhase, setCurrentPhase] = useState(0);\n  const [currentModule, setCurrentModule] = useState(0);\n  const [completedModules, setCompletedModules] = useState(new Set());\n  const [showNotes, setShowNotes] = useState(false);\n  const [facilitatorNotes, setFacilitatorNotes] = useState('');\n  const [showChecklist, setShowChecklist] = useState(false);\n  const [checklistState, setChecklistState] = useState(() => {\n    const defaults = createDefaultChecklistState();\n    try {\n      const stored = window.localStorage.getItem(CHECKLIST_STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n          return { ...defaults, ...parsed };\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load checklist state', error);\n    }\n    return defaults;\n  });\n  \n  // Timer states\n  const [timerActive, setTimerActive] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState(null);\n  const [timerMode, setTimerMode] = useState('countdown');\n  const [customTime, setCustomTime] = useState('');\n  const [showTimerSettings, setShowTimerSettings] = useState(false);\n  const [participants, setParticipants] = useState([]);\n  const [participantsLoading, setParticipantsLoading] = useState(false);\n  const [participantsError, setParticipantsError] = useState(null);\n  const [showParticipants, setShowParticipants] = useState(false);\n  const [participantForm, setParticipantForm] = useState({\n    name: '',\n    email: '',\n    dietary: '',\n    cultural: '',\n    notes: ''\n  });\n  const [editingParticipantId, setEditingParticipantId] = useState(null);\n  const fileInputRef = useRef(null);\n  const [photos, setPhotos] = useState([]);\n  const [photosLoading, setPhotosLoading] = useState(false);\n  const [photosError, setPhotosError] = useState(null);\n  const [photoUploading, setPhotoUploading] = useState(false);\n  const [showPhotoManager, setShowPhotoManager] = useState(false);\n  const [activePhotoIndex, setActivePhotoIndex] = useState(null);\n  const photoInputRef = useRef(null);\n  const [showCameraCapture, setShowCameraCapture] = useState(false);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [cameraError, setCameraError] = useState(null);\n  const cameraVideoRef = useRef(null);\n  const cameraCanvasRef = useRef(null);\n  const [splashState, setSplashState] = useState('visible');\n\n  const dismissSplashScreen = useCallback(() => {\n    if (splashState !== 'visible') return;\n    setSplashState('hiding');\n  }, [splashState]);\n\n  const workshopData = {\n    day1: {\n      title: \"Day 1: Mapping and Writing\",\n      subtitle: \"Narrative Session\",\n      phases: [\n        {\n          name: \"Memory Activation and Mapping\",\n          icon: MapPin,\n          color: \"bg-relish-paper border-relish-linen\",\n          modules: [\n            {\n              id: \"1-1\",\n              title: \"My Madeleine: A Proustian Memory Activation\",\n              duration: \"30 min\",\n              purpose: \"To activate autobiographical memory and create emotional safety through personal connection\",\n              steps: [\n                \"Welcome participants and create a safe, comfortable environment\",\n                \"Share your own food memory example as facilitator\",\n                \"Invite participants to identify a food/dish that evokes a strong memory\",\n                \"Encourage description of sensory, emotional, and cultural dimensions\",\n                \"Optional: Show-and-tell with real foods, utensils, or images\"\n              ],\n              materials: [\"Real food items (optional)\", \"Images/photos\", \"Projector or printed visuals\"],\n              tips: [\"Model vulnerability by sharing first\", \"Allow silence for reflection\", \"Encourage but don't pressure sharing\"]\n            },\n            {\n              id: \"1-2\",\n              title: \"Food Memory Map / Culinary Landscape\",\n              duration: \"45 min\",\n              purpose: \"To facilitate access to food memories and identify what participants want to write about\",\n              steps: [\n                \"Provide large paper sheets and creative materials\",\n                \"Ask participants to list foodstuffs from their home/origin\",\n                \"Encourage drawing connections between elements\",\n                \"Prompt for sensory details: colors, aromas, shapes, textures\",\n                \"Use vocabulary cards to support description\",\n                \"Identify which aspects relate to Intangible Cultural Heritage\",\n                \"Optional: Collaborative evaluation of maps\"\n              ],\n              materials: [\"Large paper sheets\", \"Colored pens/markers\", \"Vocabulary cards\", \"Collage materials (magazines, scissors, glue)\"],\n              tips: [\"Encourage creativity and personal style\", \"Sharing is optional but encouraged\", \"Focus on relationships between elements\"]\n            }\n          ]\n        },\n        {\n          name: \"Writing as Inquiry\",\n          icon: FileText,\n          color: \"bg-white border-relish-warm\",\n          modules: [\n            {\n              id: \"1-3\",\n              title: \"Sensory-Rich Reflective Writing: 'Taste of Home'\",\n              duration: \"45 min\",\n              purpose: \"To develop detailed emotional and sensory narratives around a food memory\",\n              steps: [\n                \"Participants select an aspect from their culinary map\",\n                \"Encourage automatic writing (raw, unedited narratives)\",\n                \"Provide guiding questions: Who prepared? When eaten? What emotions?\",\n                \"Focus on sensory details: smells, textures, sounds, atmosphere\",\n                \"Explore meaning: past vs. present significance\",\n                \"If multi-day workshop: assign continued writing as homework\"\n              ],\n              materials: [\"Journals/notebooks\", \"Pens\", \"Printed prompts\", \"Quiet writing space\"],\n              tips: [\"Emphasize no judgment—write freely\", \"Provide optional guiding questions\", \"Allow flexible pacing\"]\n            },\n            {\n              id: \"1-4\",\n              title: \"Everyday Eating\",\n              duration: \"30 min\",\n              purpose: \"To highlight contrast between Heritage Food and contemporary habits; prepare for speculative exercise\",\n              steps: [\n                \"Participants write contrasting micro-essay about a detail from previous writing\",\n                \"Pair work: discussion and mutual critique (5-10 min)\",\n                \"Solitary writing: focus on convenience, health, sustainability\",\n                \"Share micro-essays with the group\",\n                \"Facilitator establishes common themes across participants\",\n                \"Identify shared elements (dish, ingredient, custom) for co-creation\"\n              ],\n              materials: [\"Writing materials\", \"Sharing circle setup\"],\n              tips: [\"Highlight commonalities\", \"Prepare transition to future recipe\", \"Celebrate diverse perspectives\"]\n            }\n          ]\n        },\n        {\n          name: \"Co-creation of the Future Recipe\",\n          icon: Lightbulb,\n          color: \"bg-relish-paper-deep border-relish-clay\",\n          modules: [\n            {\n              id: \"1-5\",\n              title: \"The Future Evolution of a Recipe\",\n              duration: \"60 min\",\n              purpose: \"To reflect on culinary continuity and change; consider future challenges and adaptations\",\n              steps: [\n                \"Identify common points in participants' maps and memories\",\n                \"Choose a shared recipe or dish\",\n                \"Visualize the dish (sketching or collage encouraged)\",\n                \"Research ingredients, traditions, sustainability concerns\",\n                \"Imagine future conditions: social/environmental changes\",\n                \"Draft the future recipe with clear steps\",\n                \"Connect each change to participants' stories\",\n                \"This recipe becomes the focus of Day 2\"\n              ],\n              materials: [\"Large paper for collaborative work\", \"Markers\", \"Recipe template\", \"Research materials\"],\n              tips: [\"Foster creative speculation\", \"Ground changes in real concerns\", \"Document the co-creation process\"]\n            }\n          ]\n        }\n      ]\n    },\n    day2: {\n      title: \"Day 2: Cooking, Sharing and Co-creation\",\n      subtitle: \"Cooking Session\",\n      phases: [\n        {\n          name: \"Recap and Sharing Reflections\",\n          icon: BookOpen,\n          color: \"bg-white border-relish-linen\",\n          modules: [\n            {\n              id: \"2-1\",\n              title: \"Where Did We Start and Where Are We Going?\",\n              duration: \"30 min\",\n              purpose: \"To reactivate emotional/sensory material from Day 1; bridge speculative work and embodied practice\",\n              steps: [\n                \"Sit together informally as a group\",\n                \"Share reflections on key memories from Day 1\",\n                \"Discuss insights from writing and mapping exercises\",\n                \"Express expectations for the cooking session\",\n                \"Review the 'Future Recipe' created yesterday\",\n                \"Discuss ingredients, steps, and story behind co-creation\",\n                \"Clarify roles, tasks, and sequence for cooking\"\n              ],\n              materials: [\"Day 1 materials\", \"Future Recipe document\", \"Seating arrangement\"],\n              tips: [\"Create comfortable atmosphere\", \"Ensure everyone's voice is heard\", \"Build excitement for cooking\"]\n            }\n          ]\n        },\n        {\n          name: \"Collaborative Cooking and Guided Conversation\",\n          icon: Utensils,\n          color: \"bg-relish-paper border-relish-warm\",\n          modules: [\n            {\n              id: \"2-2\",\n              title: \"Cooking as Heritage Practice\",\n              duration: \"45 min\",\n              purpose: \"To understand cooking as cultural practice weaving habits, family learning, and collective identity\",\n              steps: [\n                \"Begin collaborative cooking of the Future Recipe\",\n                \"Facilitate conversation about everyday cooking relationships\",\n                \"Prompts: Do you use recipes daily? How do you use them?\",\n                \"Discuss: Do you write down new recipes?\",\n                \"Explore: How do you interact with the kitchen?\",\n                \"Observer takes detailed field notes\",\n                \"Document embodied practices and gestures\"\n              ],\n              materials: [\"All cooking equipment\", \"Ingredients\", \"Recording devices\", \"Observer notebook\"],\n              tips: [\"Let participants lead cooking\", \"Ask open-ended questions\", \"Observe tacit knowledge\"]\n            },\n            {\n              id: \"2-3\",\n              title: \"The Memory-Aroma Connection\",\n              duration: \"30 min\",\n              purpose: \"To explore how senses function as memory repositories and tools for decision-making\",\n              steps: [\n                \"Continue cooking while focusing on sensory dimensions\",\n                \"Prompt participants to notice smells, textures, sounds\",\n                \"Ask: What do these smells evoke for you?\",\n                \"Discuss: Which sensory cues guide your cooking decisions?\",\n                \"Explore: How do you know when something is 'done'?\",\n                \"Help participants verbalize tacit sensory criteria\",\n                \"Link sensory experiences to memories and emotions\"\n              ],\n              materials: [\"Ongoing cooking setup\", \"Recording equipment\"],\n              tips: [\"Slow down to notice details\", \"Validate intuitive knowledge\", \"Connect senses to memory\"]\n            },\n            {\n              id: \"2-4\",\n              title: \"Dialogue on Intangible Culinary Heritage\",\n              duration: \"30 min\",\n              purpose: \"To prompt critical reflection on personal and collective relationship with culinary heritage\",\n              steps: [\n                \"Continue cooking while discussing heritage concepts\",\n                \"Ask: What does culinary heritage mean to you?\",\n                \"Explore: Do you feel connected to specific traditions?\",\n                \"Discuss: Should heritage be preserved? How? By whom?\",\n                \"Reflect: What's your role in preservation or transformation?\",\n                \"Frame heritage as living practice, not fixed tradition\",\n                \"Allow space for questioning and reinterpretation\"\n              ],\n              materials: [\"Cooking in progress\", \"Recording devices\"],\n              tips: [\"Embrace complexity and ambivalence\", \"Avoid imposing single narrative\", \"Value diverse relationships to heritage\"]\n            },\n            {\n              id: \"2-5\",\n              title: \"Future and Culinary Innovation\",\n              duration: \"30 min\",\n              purpose: \"To explore future imaginaries and position participants as agents of change\",\n              steps: [\n                \"Continue cooking while looking forward\",\n                \"Ask: How do you imagine culinary heritage evolving?\",\n                \"Discuss: What hopes or concerns about future changes?\",\n                \"Explore: What role will you play in transformation?\",\n                \"Reflect: What legacy for future generations?\",\n                \"Connect current cooking to future possibilities\",\n                \"Document participant visions and expectations\"\n              ],\n              materials: [\"Cooking equipment\", \"Recording devices\"],\n              tips: [\"Encourage imaginative thinking\", \"Balance optimism and realism\", \"Recognize agency\"]\n            }\n          ]\n        },\n        {\n          name: \"Plating and Collective Tasting\",\n          icon: CheckCircle,\n          color: \"bg-relish-paper-deep border-relish-accent\",\n          modules: [\n            {\n              id: \"2-6\",\n              title: \"Tasting Memory in Evolution\",\n              duration: \"45 min\",\n              purpose: \"To build bridges between past and future through collective reflection\",\n              steps: [\n                \"Plate the prepared dish together\",\n                \"Share the meal among all participants\",\n                \"Discuss how dish relates to shared narrative\",\n                \"Reflect on aspects of innovation, change, or future\",\n                \"Compare expected vs. actual results\",\n                \"Gather final reflections and evaluations\",\n                \"Thank participants and close the workshop\",\n                \"Optional: Collect materials and photographs\"\n              ],\n              materials: [\"Plates and serving items\", \"Camera\", \"Evaluation forms (optional)\"],\n              tips: [\"Create celebratory atmosphere\", \"Honor the collective work\", \"Document final reflections\"]\n            }\n          ]\n        }\n      ]\n    }\n  };\n\n\n  const currentDayData = currentDay === 1 ? workshopData.day1 : workshopData.day2;\n  const phase = currentDayData.phases[currentPhase];\n  const module = phase.modules[currentModule];\n\n  // Parse duration string to minutes\n  const parseDuration = (duration) => {\n    const match = duration.match(/(\\d+)/);\n    return match ? parseInt(match[0]) : 30;\n  };\n\n  // Timer functionality\n  useEffect(() => {\n    let interval;\n    if (timerActive && timeRemaining !== null) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (timerMode === 'countdown') {\n            if (prev <= 1) {\n              setTimerActive(false);\n              playTimerSound();\n              return 0;\n            }\n            return prev - 1;\n          } else {\n            // Stopwatch mode\n            return prev + 1;\n          }\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [timerActive, timeRemaining, timerMode]);\n\n  const playTimerSound = () => {\n    // Create a simple beep sound\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n    \n    oscillator.frequency.value = 800;\n    oscillator.type = 'sine';\n    \n    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n    \n    oscillator.start(audioContext.currentTime);\n    oscillator.stop(audioContext.currentTime + 0.5);\n  };\n\n  const startTimer = (minutes = null) => {\n    const mins = minutes || parseDuration(module.duration);\n    setTimeRemaining(mins * 60);\n    setTimerActive(true);\n    setTimerMode('countdown');\n    setShowTimerSettings(false);\n  };\n\n  const startStopwatch = () => {\n    setTimeRemaining(0);\n    setTimerActive(true);\n    setTimerMode('stopwatch');\n    setShowTimerSettings(false);\n  };\n\n  const pauseTimer = () => {\n    setTimerActive(false);\n  };\n\n  const resetTimer = () => {\n    setTimerActive(false);\n    setTimeRemaining(null);\n  };\n\n  const toggleChecklistItem = (itemId) => {\n    setChecklistState((prev) => ({\n      ...prev,\n      [itemId]: !prev[itemId]\n    }));\n  };\n\n  const normalizePhoto = useCallback((photo) => {\n    if (!photo) {\n      return null;\n    }\n    const storagePath = typeof photo.storagePath === 'string' ? photo.storagePath.replace(/\\\\/g, '/') : '';\n    return {\n      id: photo._id || photo.id || `${Date.now()}-${Math.random().toString(16).slice(2)}`,\n      storagePath,\n      originalName: photo.originalName || photo.filename || 'Workshop photo',\n      caption: photo.caption || '',\n      notes: photo.notes || '',\n      day: Number.isInteger(photo.day) ? photo.day : currentDay,\n      phaseIndex: Number.isInteger(photo.phaseIndex) ? photo.phaseIndex : currentPhase,\n      moduleId: typeof photo.moduleId === 'string' && photo.moduleId.trim().length > 0 ? photo.moduleId : null,\n      participantIds: Array.isArray(photo.participantIds) ? photo.participantIds : [],\n      createdAt: photo.createdAt || new Date().toISOString(),\n      updatedAt: photo.updatedAt || photo.createdAt || null,\n      mimeType: photo.mimeType || '',\n      size: photo.size || 0\n    };\n  }, [currentDay, currentPhase]);\n\n  const getPhotoId = (photo) => photo?.id || photo?._id || null;\n\n  const buildPhotoUrl = (photo) => {\n    if (!photo?.storagePath) return '';\n    const base = API_BASE_URL.replace(/\\/+$/, '');\n    const path = photo.storagePath.replace(/^\\/+/, '');\n    return `${base}/${path}`;\n  };\n\n  const uploadPhotoFile = async (file) => {\n    const formData = new FormData();\n    formData.append('day', String(currentDay));\n    formData.append('phaseIndex', String(currentPhase));\n    if (module?.id) {\n      formData.append('moduleId', module.id);\n    }\n    // Placeholder for participant tagging; currently no participants are selected but\n    // the backend expects the field to exist in the payload.\n    formData.append('participantIds', '');\n    formData.append('photo', file);\n\n    const response = await fetch(`${API_BASE_URL}/api/photos`, {\n      method: 'POST',\n      body: formData\n    });\n\n    let payload = null;\n    try {\n      payload = await response.json();\n    } catch (error) {\n      payload = null;\n    }\n\n    if (!response.ok) {\n      const message = payload?.message || 'Failed to upload photo';\n      throw new Error(message);\n    }\n\n    const normalized = normalizePhoto(payload);\n    if (!normalized) {\n      throw new Error('Photo upload response was empty');\n    }\n    return normalized;\n  };\n\n  const handlePhotoUploadChange = async (event) => {\n    const fileList = Array.from(event.target.files || []);\n    if (fileList.length === 0) return;\n\n    const oversize = fileList.find((file) => file.size > PHOTO_MAX_SIZE_BYTES);\n    if (oversize) {\n      setPhotosError(`\"${oversize.name}\" exceeds the ${Math.round(PHOTO_MAX_SIZE_BYTES / (1024 * 1024))}MB limit. Please choose a smaller file.`);\n      event.target.value = '';\n      return;\n    }\n\n    const invalidType = fileList.find((file) => !file.type.startsWith('image/'));\n    if (invalidType) {\n      setPhotosError(`\"${invalidType.name}\" is not an image. Please choose image files only.`);\n      event.target.value = '';\n      return;\n    }\n\n    setPhotosError(null);\n    setPhotoUploading(true);\n\n    try {\n      const uploaded = [];\n      for (const file of fileList) {\n        const photo = await uploadPhotoFile(file);\n        uploaded.push(photo);\n      }\n      if (uploaded.length) {\n        setPhotos((prev) => [...uploaded, ...prev]);\n      }\n    } catch (error) {\n      console.error('Photo upload failed', error);\n      setPhotosError(error.message || 'Failed to upload photo');\n    } finally {\n      setPhotoUploading(false);\n      event.target.value = '';\n    }\n  };\n\n  const openPhotoUploader = () => {\n    setPhotosError(null);\n    photoInputRef.current?.click();\n  };\n\n  const openPhotoPreview = (index) => {\n    setActivePhotoIndex(index);\n  };\n\n  const closePhotoPreview = () => {\n    setActivePhotoIndex(null);\n  };\n\n  const closePhotoManager = () => {\n    setShowPhotoManager(false);\n    setActivePhotoIndex(null);\n    setPhotosError(null);\n    if (cameraStream) {\n      cameraStream.getTracks().forEach((track) => track.stop());\n      setCameraStream(null);\n    }\n    setShowCameraCapture(false);\n    setCameraError(null);\n  };\n\n  const openCameraCapture = async () => {\n    setCameraError(null);\n    setPhotosError(null);\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setCameraError('Camera access is not supported on this device.');\n      setShowCameraCapture(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false });\n      setCameraStream(stream);\n      setShowCameraCapture(true);\n    } catch (error) {\n      console.error('Unable to access camera', error);\n      setCameraError('Unable to access camera. Please check permissions and try again.');\n      setShowCameraCapture(true);\n    }\n  };\n\n  const closeCameraCapture = () => {\n    if (cameraStream) {\n      cameraStream.getTracks().forEach((track) => track.stop());\n      setCameraStream(null);\n    }\n    setShowCameraCapture(false);\n    setCameraError(null);\n  };\n\n  const capturePhotoFromCamera = async () => {\n    const videoElement = cameraVideoRef.current;\n    const canvasElement = cameraCanvasRef.current;\n    if (!videoElement || !canvasElement) return;\n\n    const width = videoElement.videoWidth;\n    const height = videoElement.videoHeight;\n    if (!width || !height) return;\n\n    canvasElement.width = width;\n    canvasElement.height = height;\n    const context = canvasElement.getContext('2d');\n    if (!context) return;\n\n    context.drawImage(videoElement, 0, 0, width, height);\n    const blob = await new Promise((resolve) => {\n      canvasElement.toBlob(resolve, 'image/jpeg', 0.92);\n    });\n\n    let finalBlob = blob;\n    if (!finalBlob) {\n      try {\n        const fallbackDataUrl = canvasElement.toDataURL('image/jpeg', 0.92);\n        const response = await fetch(fallbackDataUrl);\n        finalBlob = await response.blob();\n      } catch (error) {\n        finalBlob = null;\n      }\n    }\n\n    if (!finalBlob) {\n      setPhotosError('Unable to capture photo from camera. Please try again.');\n      return;\n    }\n\n    const fileName = `Captured-${new Date().toISOString()}.jpg`;\n    const captureFile = new File([finalBlob], fileName, { type: finalBlob.type || 'image/jpeg' });\n\n    setPhotosError(null);\n    setPhotoUploading(true);\n\n    try {\n      const uploaded = await uploadPhotoFile(captureFile);\n      setPhotos((prev) => [uploaded, ...prev]);\n      setActivePhotoIndex(0);\n      if (cameraStream) {\n        cameraStream.getTracks().forEach((track) => track.stop());\n        setCameraStream(null);\n      }\n      setShowCameraCapture(false);\n    } catch (error) {\n      console.error('Unable to upload captured photo', error);\n      setPhotosError(error.message || 'Failed to upload captured photo');\n    } finally {\n      setPhotoUploading(false);\n    }\n  };\n\n  const showNextPhoto = (direction) => {\n    setActivePhotoIndex((prev) => {\n      if (prev === null) return prev;\n      const total = photos.length;\n      if (total === 0) return null;\n      const nextIndex = (prev + direction + total) % total;\n      return nextIndex;\n    });\n  };\n\n  const removePhoto = async (photoId) => {\n    if (!photoId) return;\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/photos/${photoId}`, {\n        method: 'DELETE'\n      });\n\n      if (!response.ok) {\n        let message = 'Failed to delete photo';\n        try {\n          const payload = await response.json();\n          message = payload?.message || message;\n        } catch (parseError) {\n          try {\n            const text = await response.text();\n            if (text) message = text;\n          } catch (textError) {\n            // ignore\n          }\n        }\n        throw new Error(message);\n      }\n\n      setPhotos((prev) => prev.filter((photo) => getPhotoId(photo) !== photoId));\n      setActivePhotoIndex(null);\n      setPhotosError(null);\n    } catch (error) {\n      console.error('Failed to delete photo', error);\n      setPhotosError(error.message || 'Failed to delete photo');\n    }\n  };\n\n  const updatePhotoCaption = (photoId, caption) => {\n    setPhotos((prev) =>\n      prev.map((photo) =>\n        getPhotoId(photo) === photoId\n          ? {\n              ...photo,\n              caption,\n              updatedAt: new Date().toISOString()\n            }\n          : photo\n      )\n    );\n  };\n\n  const formatPhotoTimestamp = (value) => {\n    if (!value) return 'Timestamp unavailable';\n    const date = new Date(value);\n    if (Number.isNaN(date.getTime())) return 'Timestamp unavailable';\n    return date.toLocaleString();\n  };\n\n  const describePhotoContext = (photo) => {\n    if (!photo) return '';\n    const parts = [];\n    if (photo.day) parts.push(`Day ${photo.day}`);\n    if (photo.moduleId) parts.push(`Module ${photo.moduleId}`);\n    return parts.length ? parts.join(' • ') : 'Captured during workshop';\n  };\n\n  const formatTime = (seconds) => {\n    if (seconds === null) return '--:--';\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getTimerColor = () => {\n    if (timeRemaining === null) return 'text-relish-ink-muted';\n    if (timerMode === 'stopwatch') return 'text-relish-smoke';\n    if (timeRemaining < 60) return 'text-relish-accent';\n    if (timeRemaining < 300) return 'text-relish-ink';\n    return 'text-relish-smoke';\n  };\n\n  const toggleModuleComplete = (moduleId) => {\n    const newCompleted = new Set(completedModules);\n    if (newCompleted.has(moduleId)) {\n      newCompleted.delete(moduleId);\n    } else {\n      newCompleted.add(moduleId);\n    }\n    setCompletedModules(newCompleted);\n  };\n\n  const nextModule = () => {\n    resetTimer(); // Reset timer when changing modules\n    if (currentModule < phase.modules.length - 1) {\n      setCurrentModule(currentModule + 1);\n    } else if (currentPhase < currentDayData.phases.length - 1) {\n      setCurrentPhase(currentPhase + 1);\n      setCurrentModule(0);\n    } else if (currentDay === 1) {\n      setCurrentDay(2);\n      setCurrentPhase(0);\n      setCurrentModule(0);\n    }\n  };\n\n  const prevModule = () => {\n    resetTimer(); // Reset timer when changing modules\n    if (currentModule > 0) {\n      setCurrentModule(currentModule - 1);\n    } else if (currentPhase > 0) {\n      setCurrentPhase(currentPhase - 1);\n      setCurrentModule(currentDayData.phases[currentPhase - 1].modules.length - 1);\n    } else if (currentDay === 2) {\n      setCurrentDay(1);\n      const day1Phases = workshopData.day1.phases;\n      setCurrentPhase(day1Phases.length - 1);\n      setCurrentModule(day1Phases[day1Phases.length - 1].modules.length - 1);\n    }\n  };\n\n  const PhaseIcon = phase.icon;\n  const participantCount = participants.length;\n\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(CHECKLIST_STORAGE_KEY, JSON.stringify(checklistState));\n    } catch (error) {\n      console.error('Failed to save checklist state', error);\n    }\n  }, [checklistState]);\n\n  useEffect(() => {\n    let isMounted = true;\n    const controller = new AbortController();\n\n    const fetchParticipants = async () => {\n      if (isMounted) {\n        setParticipantsLoading(true);\n        setParticipantsError(null);\n      }\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/participants`, {\n          signal: controller.signal\n        });\n        if (!response.ok) {\n          throw new Error('Failed to load participants');\n        }\n        const data = await response.json();\n        if (isMounted) {\n          setParticipants(data);\n        }\n      } catch (error) {\n        if (error.name === 'AbortError') return;\n        console.error('Failed to load participants', error);\n        if (isMounted) {\n          setParticipantsError(error.message || 'Failed to load participants');\n        }\n      } finally {\n        if (isMounted) {\n          setParticipantsLoading(false);\n        }\n      }\n    };\n\n    fetchParticipants();\n\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  }, []);\n\n  useEffect(() => {\n    let isMounted = true;\n    const controller = new AbortController();\n\n    const fetchPhotos = async () => {\n      if (isMounted) {\n        setPhotosLoading(true);\n        setPhotosError(null);\n      }\n\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/photos`, {\n          signal: controller.signal\n        });\n\n        let payload = null;\n        try {\n          payload = await response.json();\n        } catch (error) {\n          payload = null;\n        }\n\n        if (!response.ok) {\n          throw new Error(payload?.message || 'Failed to load photos');\n        }\n\n        if (isMounted && Array.isArray(payload)) {\n          setPhotos(payload.map((item) => normalizePhoto(item)).filter(Boolean));\n        }\n      } catch (error) {\n        if (error.name === 'AbortError') return;\n        console.error('Failed to load photos', error);\n        if (isMounted) {\n          setPhotosError(error.message || 'Failed to load photos');\n        }\n      } finally {\n        if (isMounted) {\n          setPhotosLoading(false);\n        }\n      }\n    };\n\n    fetchPhotos();\n\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  }, [normalizePhoto]);\n\n  useEffect(() => {\n    const videoElement = cameraVideoRef.current;\n    if (videoElement && cameraStream) {\n      videoElement.srcObject = cameraStream;\n      videoElement.play().catch((error) => {\n        console.error('Unable to start camera preview', error);\n      });\n    }\n    return () => {\n      if (videoElement && videoElement.srcObject) {\n        videoElement.pause();\n        videoElement.srcObject = null;\n      }\n    };\n  }, [cameraStream]);\n\n  useEffect(() => {\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach((track) => track.stop());\n      }\n    };\n  }, [cameraStream]);\n\n  const resetParticipantForm = () => {\n    setParticipantForm({\n      name: '',\n      email: '',\n      dietary: '',\n      cultural: '',\n      notes: ''\n    });\n    setEditingParticipantId(null);\n  };\n\n  const handleParticipantChange = (event) => {\n    const { name, value } = event.target;\n    setParticipantForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleParticipantSubmit = async (event) => {\n    event.preventDefault();\n    const trimmedName = participantForm.name.trim();\n    if (!trimmedName) return;\n\n    const payload = {\n      name: trimmedName,\n      email: participantForm.email.trim(),\n      dietary: participantForm.dietary.trim(),\n      cultural: participantForm.cultural.trim(),\n      notes: participantForm.notes.trim()\n    };\n\n    const isEditing = Boolean(editingParticipantId);\n    const endpoint = isEditing\n      ? `${API_BASE_URL}/api/participants/${editingParticipantId}`\n      : `${API_BASE_URL}/api/participants`;\n\n    try {\n      const response = await fetch(endpoint, {\n        method: isEditing ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save participant');\n      }\n\n      const savedParticipant = await response.json();\n      const savedId = savedParticipant._id || savedParticipant.id;\n\n      setParticipants((prev) => {\n        if (isEditing) {\n          return prev.map((participant) =>\n            (participant._id || participant.id) === savedId ? savedParticipant : participant\n          );\n        }\n        return [savedParticipant, ...prev];\n      });\n\n      resetParticipantForm();\n    } catch (error) {\n      console.error('Failed to save participant', error);\n      window.alert('Could not save participant. Please try again.');\n    }\n  };\n\n  const handleEditParticipant = (participant) => {\n    if (!participant) return;\n    setParticipantForm({\n      name: participant.name ?? '',\n      email: participant.email ?? '',\n      dietary: participant.dietary ?? '',\n      cultural: participant.cultural ?? '',\n      notes: participant.notes ?? ''\n    });\n    setEditingParticipantId(participant._id || participant.id || null);\n    setShowParticipants(true);\n  };\n\n  const handleDeleteParticipant = async (participant) => {\n    const participantId = participant?._id || participant?.id;\n    const name = participant?.name || 'this participant';\n    if (!participantId) {\n      window.alert('Unable to delete participant: missing identifier.');\n      return;\n    }\n    if (!window.confirm(`Remove ${name}?`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/participants/${participantId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok && response.status !== 204) {\n        throw new Error('Failed to delete participant');\n      }\n\n      setParticipants((prev) => prev.filter((item) => (item._id || item.id) !== participantId));\n      if (editingParticipantId === participantId) {\n        resetParticipantForm();\n      }\n    } catch (error) {\n      console.error('Failed to delete participant', error);\n      window.alert('Could not delete participant. Please try again.');\n    }\n  };\n\n  const handleExportParticipants = () => {\n    const blob = new Blob([JSON.stringify(participants, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'participants.json';\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleImportParticipants = (event) => {\n    const input = event.target;\n    const file = input.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const result = typeof reader.result === 'string' ? reader.result : '';\n        const parsed = JSON.parse(result);\n        if (!Array.isArray(parsed)) {\n          window.alert('Import failed: JSON must be an array.');\n        } else {\n          const base = Date.now();\n          const normalised = parsed\n            .map((entry, idx) => ({\n              id: entry?.id ?? base + idx,\n              name: entry?.name ?? '',\n              email: entry?.email ?? '',\n              dietary: entry?.dietary ?? '',\n              cultural: entry?.cultural ?? '',\n              notes: entry?.notes ?? ''\n            }))\n            .filter((entry) => entry.name.trim().length > 0);\n          setParticipants(normalised);\n          resetParticipantForm();\n        }\n      } catch (error) {\n        console.error('Import error', error);\n        window.alert('Import failed: invalid JSON.');\n      } finally {\n        input.value = '';\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  const handleCloseParticipants = () => {\n    setShowParticipants(false);\n    resetParticipantForm();\n  };\n\n  return (\n    <div className=\"relish-shell\">\n      {/* Header */}\n      <div className=\"bg-white/90 backdrop-blur border-b border-relish-linen\">\n        <div className=\"max-w-6xl mx-auto px-6 py-6\">\n          <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\">\n            <div>\n              <p className=\"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\">Relish methodology</p>\n              <h1 className=\"text-4xl font-display text-relish-ink mt-2\">Food Memories Workshop</h1>\n              <p className=\"text-sm text-relish-ink-muted\">Interactive field guide for facilitators</p>\n            </div>\n            <div className=\"flex flex-wrap gap-3\">\n              <button\n                onClick={() => setShowPhotoManager(true)}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark transition-colors\"\n              >\n                <Images size={18} />\n                Photos ({photos.length})\n              </button>\n              <button\n                onClick={() => {\n                  resetParticipantForm();\n                  setShowParticipants(true);\n                }}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-warm bg-white text-relish-ink shadow-sm hover:bg-relish-paper transition-colors\"\n              >\n                <UserPlus size={18} />\n                Participants ({participantCount})\n              </button>\n              <button\n                onClick={() => setShowTimerSettings(!showTimerSettings)}\n                className={`flex items-center gap-2 px-4 py-2 rounded-full border shadow-sm transition-colors ${\n                  timerActive\n                    ? 'bg-relish-ink text-white border-relish-ink'\n                    : 'bg-white text-relish-ink border-relish-linen hover:bg-relish-paper'\n                }`}\n              >\n                <Timer size={18} />\n                Timer\n              </button>\n              <button\n                onClick={() => setShowNotes(!showNotes)}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-ink text-relish-ink shadow-sm hover:bg-relish-ink hover:text-white transition-colors\"\n              >\n                <FileText size={18} />\n                Notes\n              </button>\n              <button\n                onClick={() => setShowChecklist(!showChecklist)}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-paper text-relish-ink border border-relish-warm shadow-sm hover:bg-white transition-colors\"\n              >\n                <CheckCircle size={18} />\n                Checklist\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-6xl mx-auto px-6 py-8\">\n        <div className=\"relative mb-10 overflow-hidden rounded-[32px] border border-relish-linen bg-white/80 shadow-relish-card\">\n          <div className=\"absolute inset-0 opacity-60 mix-blend-multiply pointer-events-none\">\n            <img src={relishLineArt} alt=\"\" aria-hidden=\"true\" className=\"h-full w-full object-cover\" />\n          </div>\n          <div className=\"relative grid gap-6 p-8 md:grid-cols-[2.2fr,1fr]\">\n            <div>\n              <p className=\"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\">Memory, method, material</p>\n              <h2 className=\"text-3xl md:text-4xl font-display text-relish-ink mt-3 mb-4\">\n                Guide intimate food narratives with academic care\n              </h2>\n              <p className=\"text-base text-relish-ink-muted max-w-2xl\">\n                This facilitator console mirrors the RELISH manual’s serif typography, coral accents, and archival tactility. Track phases,\n                cue timers, organize participants, and document culinary heritage within a single scholarly surface.\n              </p>\n              <div className=\"mt-6 flex flex-wrap gap-3 text-sm text-relish-ink\">\n                <span className=\"px-3 py-1 rounded-full border border-relish-linen bg-white/80\">Narrative practice</span>\n                <span className=\"px-3 py-1 rounded-full border border-relish-linen bg-white/80\">Speculative recipes</span>\n                <span className=\"px-3 py-1 rounded-full border border-relish-linen bg-white/80\">Embodied archives</span>\n              </div>\n            </div>\n            <div className=\"rounded-3xl border border-relish-warm bg-white/90 p-6 shadow-inner\">\n              <p className=\"text-xs uppercase tracking-[0.25em] text-relish-smoke\">Current focus</p>\n              <div className=\"mt-3 text-2xl font-display text-relish-ink\">{currentDayData.title}</div>\n              <p className=\"text-sm text-relish-ink-muted\">{currentDayData.subtitle}</p>\n              <div className=\"mt-4 space-y-2 text-sm text-relish-ink\">\n                <div className=\"flex items-center gap-2\">\n                  <Clock size={16} />\n                  <span>{module.duration} • {module.title}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Users size={16} />\n                  <span>Day {currentDay} · Phase {currentPhase + 1}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <MapPin size={16} />\n                  <span>{phase.name}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Timer Display - Fixed position when active */}\n        {timeRemaining !== null && (\n          <div className=\"fixed top-24 right-6 z-40 min-w-[280px] rounded-2xl border border-relish-linen bg-white/95 p-6 shadow-relish-card\">\n            <div className=\"text-center\">\n              <div className=\"text-xs font-semibold uppercase tracking-[0.4em] text-relish-smoke mb-3\">\n                {timerMode === 'countdown' ? 'Time Remaining' : 'Elapsed Time'}\n              </div>\n              <div className={`text-5xl font-display mb-4 ${getTimerColor()} transition-colors`}>\n                {formatTime(timeRemaining)}\n              </div>\n              <div className=\"flex gap-2 justify-center text-sm\">\n                {timerActive ? (\n                  <button\n                    onClick={pauseTimer}\n                    className=\"flex items-center gap-2 rounded-full border border-relish-ink px-4 py-2 text-relish-ink hover:bg-relish-ink hover:text-white transition-colors\"\n                  >\n                    <Pause size={16} />\n                    Pause\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => setTimerActive(true)}\n                    className=\"flex items-center gap-2 rounded-full bg-relish-accent px-4 py-2 text-white shadow-sm hover:bg-relish-accent-dark transition-colors\"\n                  >\n                    <Play size={16} />\n                    Resume\n                  </button>\n                )}\n                <button\n                  onClick={resetTimer}\n                  className=\"flex items-center gap-2 rounded-full border border-relish-linen px-4 py-2 text-relish-ink hover:bg-relish-paper transition-colors\"\n                >\n                  <RotateCcw size={16} />\n                  Reset\n                </button>\n              </div>\n              {timerMode === 'countdown' && timeRemaining < 60 && timeRemaining > 0 && (\n                <div className=\"mt-3 text-relish-accent font-semibold tracking-wide\">\n                  ⚠️ Less than 1 minute remaining\n                </div>\n              )}\n              {timerMode === 'countdown' && timeRemaining === 0 && (\n                <div className=\"mt-3 text-relish-accent font-semibold\">\n                  ⏰ Time's up\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Day Selector */}\n        <div className=\"flex gap-4 mb-8\">\n          <button\n            onClick={() => { setCurrentDay(1); setCurrentPhase(0); setCurrentModule(0); }}\n            className={`flex-1 rounded-2xl border px-6 py-6 transition-all ${\n              currentDay === 1\n                ? 'bg-white shadow-relish-card border-relish-ink'\n                : 'bg-transparent border-relish-linen hover:bg-white/70'\n            }`}\n          >\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-display text-relish-ink mb-1\">Day 1</div>\n              <div className=\"text-sm text-relish-ink-muted\">Mapping & Writing</div>\n              <div className=\"text-xs uppercase tracking-[0.3em] text-relish-smoke mt-3\">Narrative session</div>\n            </div>\n          </button>\n          <button\n            onClick={() => { setCurrentDay(2); setCurrentPhase(0); setCurrentModule(0); }}\n            className={`flex-1 rounded-2xl border px-6 py-6 transition-all ${\n              currentDay === 2\n                ? 'bg-white shadow-relish-card border-relish-ink'\n                : 'bg-transparent border-relish-linen hover:bg-white/70'\n            }`}\n          >\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-display text-relish-ink mb-1\">Day 2</div>\n              <div className=\"text-sm text-relish-ink-muted\">Cooking & Sharing</div>\n              <div className=\"text-xs uppercase tracking-[0.3em] text-relish-smoke mt-3\">Cooking session</div>\n            </div>\n          </button>\n        </div>\n\n        {/* Phase Navigation */}\n        <div className=\"grid grid-cols-1 gap-4 mb-8 md:grid-cols-3\">\n          {currentDayData.phases.map((p, idx) => {\n            const PIcon = p.icon;\n            return (\n              <button\n                key={idx}\n                onClick={() => { setCurrentPhase(idx); setCurrentModule(0); }}\n                className={`rounded-2xl border px-5 py-5 text-left transition-all ${\n                  currentPhase === idx\n                    ? `${p.color} shadow-relish-card`\n                    : 'bg-white border-relish-linen hover:bg-white/80'\n                }`}\n              >\n                <div className=\"mb-4 flex justify-start\">\n                  <span className=\"relative inline-flex h-12 w-12 items-center justify-center rounded-full border border-relish-linen bg-white/70\">\n                    <img\n                      src={relishLineArt}\n                      alt=\"\"\n                      aria-hidden=\"true\"\n                      className=\"absolute inset-0 h-full w-full object-cover opacity-40 mix-blend-multiply\"\n                    />\n                    <PIcon size={22} className=\"relative text-relish-ink\" />\n                  </span>\n                </div>\n                <div className=\"text-sm font-semibold text-relish-ink\">{p.name}</div>\n                <p className=\"mt-1 text-xs uppercase tracking-[0.3em] text-relish-smoke\">Phase {idx + 1}</p>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Main Module Card */}\n        <div className=\"bg-white/95 rounded-[28px] shadow-relish-card border border-relish-linen overflow-hidden mb-8\">\n          {/* Module Header */}\n          <div className={`${phase.color} border-b p-6`}>\n            <div className=\"flex flex-col gap-4 md:flex-row md:items-start md:justify-between\">\n              <div className=\"flex items-start gap-4\">\n                <span className=\"relative inline-flex h-16 w-16 items-center justify-center rounded-2xl border border-relish-linen bg-white/70\">\n                  <img\n                    src={relishLineArt}\n                    alt=\"\"\n                    aria-hidden=\"true\"\n                    className=\"absolute inset-0 h-full w-full object-cover opacity-40 mix-blend-multiply\"\n                  />\n                  <PhaseIcon size={28} className=\"relative text-relish-ink\" />\n                </span>\n                <div>\n                  <div className=\"text-xs uppercase tracking-[0.3em] text-relish-smoke mb-2\">\n                    Phase {currentPhase + 1} • Module {currentModule + 1}\n                  </div>\n                  <h2 className=\"text-3xl font-display text-relish-ink\">{module.title}</h2>\n                </div>\n              </div>\n              <button\n                onClick={() => toggleModuleComplete(module.id)}\n                className={`flex items-center gap-2 rounded-full border px-4 py-2 text-sm transition-all ${\n                  completedModules.has(module.id)\n                    ? 'border-transparent bg-relish-accent text-white shadow-sm'\n                    : 'border-relish-ink text-relish-ink hover:bg-relish-ink hover:text-white'\n                }`}\n              >\n                <CheckCircle size={20} />\n                {completedModules.has(module.id) ? 'Marked Complete' : 'Mark Complete'}\n              </button>\n            </div>\n            <div className=\"mt-4 flex flex-wrap items-center gap-6 text-sm text-relish-ink\">\n              <div className=\"flex items-center gap-2\">\n                <Clock size={18} />\n                <span className=\"font-semibold\">{module.duration}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Users size={18} />\n                <span>Small groups recommended</span>\n              </div>\n              {!timerActive && timeRemaining === null && (\n                <button\n                  onClick={() => startTimer()}\n                  className=\"ml-auto flex items-center gap-2 rounded-full bg-relish-accent px-4 py-2 text-white shadow-sm text-sm font-semibold hover:bg-relish-accent-dark\"\n                >\n                  <Play size={16} />\n                  Start Timer ({module.duration})\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Module Content */}\n          <div className=\"p-6\">\n            {/* Purpose */}\n            <div className=\"bg-relish-paper border-l-4 border-relish-accent/70 p-4 rounded-2xl mb-6\">\n              <div className=\"font-semibold text-relish-ink mb-2 flex items-center gap-2\">\n                <Lightbulb size={18} />\n                Purpose\n              </div>\n              <p className=\"text-relish-ink-muted\">{module.purpose}</p>\n            </div>\n\n            {/* Steps */}\n            <div className=\"mb-6\">\n              <h3 className=\"font-display text-2xl text-relish-ink mb-4\">Steps to Follow</h3>\n              <div className=\"space-y-3\">\n                {module.steps.map((step, idx) => (\n                  <div key={idx} className=\"flex gap-3\">\n                    <div className=\"flex-shrink-0 w-8 h-8 bg-relish-accent text-white rounded-full flex items-center justify-center font-semibold\">\n                      {idx + 1}\n                    </div>\n                    <p className=\"text-relish-ink-muted pt-1\">{step}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Materials */}\n            <div className=\"mb-6\">\n              <h3 className=\"font-display text-2xl text-relish-ink mb-3 flex items-center gap-2\">\n                <BookOpen size={20} />\n                Materials Needed\n              </h3>\n              <div className=\"flex flex-wrap gap-2\">\n                {module.materials.map((material, idx) => (\n                  <span key={idx} className=\"px-3 py-1 bg-relish-paper text-relish-ink rounded-full text-sm border border-relish-linen\">\n                    {material}\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Tips */}\n            <div className=\"bg-relish-paper border border-relish-linen p-4 rounded-2xl\">\n              <div className=\"font-semibold text-relish-ink mb-2\">💡 Facilitation Tips</div>\n              <ul className=\"space-y-1\">\n                {module.tips.map((tip, idx) => (\n                  <li key={idx} className=\"text-relish-ink-muted text-sm\">• {tip}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n          <button\n            onClick={prevModule}\n            disabled={currentDay === 1 && currentPhase === 0 && currentModule === 0}\n            className=\"flex items-center gap-2 rounded-full border border-relish-linen px-6 py-3 text-relish-ink hover:bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <ChevronLeft size={20} />\n            Previous\n          </button>\n\n          <div className=\"text-center text-sm text-relish-ink-muted\">\n            <div className=\"font-semibold text-relish-ink\">\n              Day {currentDay} • Phase {currentPhase + 1} of {currentDayData.phases.length} • Module {currentModule + 1} of {phase.modules.length}\n            </div>\n            <div className=\"text-xs mt-1\">\n              {completedModules.size} modules completed\n            </div>\n          </div>\n\n          <button\n            onClick={nextModule}\n            disabled={currentDay === 2 && currentPhase === currentDayData.phases.length - 1 && currentModule === phase.modules.length - 1}\n            className=\"flex items-center gap-2 rounded-full bg-relish-accent px-6 py-3 text-white shadow-sm hover:bg-relish-accent-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            Next\n            <ChevronRight size={20} />\n          </button>\n        </div>\n      </div>\n\n      {/* Timer Settings Modal */}\n      {showTimerSettings && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 rounded-3xl shadow-relish-card max-w-md w-full border border-relish-linen\">\n            <div className=\"p-6 border-b border-relish-linen\">\n              <h3 className=\"text-2xl font-display text-relish-ink\">Timer Settings</h3>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <h4 className=\"font-semibold mb-3 text-relish-ink\">Quick Start</h4>\n                <div className=\"space-y-2\">\n                  <button\n                    onClick={() => startTimer()}\n                    className=\"w-full px-4 py-3 bg-relish-accent text-white rounded-2xl hover:bg-relish-accent-dark transition-colors text-left font-semibold\"\n                  >\n                    ⏱️ Countdown Timer ({module.duration})\n                  </button>\n                  <button\n                    onClick={startStopwatch}\n                    className=\"w-full px-4 py-3 rounded-2xl border border-relish-ink text-left text-relish-ink hover:bg-relish-ink hover:text-white transition-colors font-semibold\"\n                  >\n                    ⏰ Stopwatch (Count Up)\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"border-t pt-4\">\n                <h4 className=\"font-semibold mb-3 text-relish-ink\">Custom Countdown</h4>\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"number\"\n                    value={customTime}\n                    onChange={(e) => setCustomTime(e.target.value)}\n                    placeholder=\"Minutes\"\n                    min=\"1\"\n                    max=\"240\"\n                    className=\"flex-1 px-4 py-2 border border-relish-linen rounded-2xl focus:border-relish-ink focus:outline-none\"\n                  />\n                  <button\n                    onClick={() => {\n                      const mins = parseInt(customTime);\n                      if (mins > 0) {\n                        startTimer(mins);\n                        setCustomTime('');\n                      }\n                    }}\n                    disabled={!customTime || parseInt(customTime) <= 0}\n                    className=\"px-4 py-2 rounded-2xl bg-relish-ink text-white hover:bg-relish-ink/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Start\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"border-t pt-4\">\n                <h4 className=\"font-semibold mb-2 text-relish-ink\">Preset Durations</h4>\n                <div className=\"grid grid-cols-3 gap-2 text-sm\">\n                  {[5, 10, 15, 20, 30, 45, 60, 90, 120].map(mins => (\n                    <button\n                      key={mins}\n                      onClick={() => startTimer(mins)}\n                      className=\"px-3 py-2 rounded-2xl border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper transition-colors font-medium\"\n                    >\n                      {mins} min\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n            <div className=\"p-6 border-t border-relish-linen flex justify-end\">\n              <button\n                onClick={() => setShowTimerSettings(false)}\n                className=\"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Photo Manager Modal */}\n      {showPhotoManager && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/98 rounded-[32px] shadow-relish-card max-w-6xl w-full max-h-[90vh] flex flex-col border border-relish-linen\">\n            <div className=\"p-6 border-b border-relish-linen flex items-center justify-between bg-white/80\">\n              <div>\n                <h3 className=\"text-2xl font-display text-relish-ink\">Workshop Photo Library</h3>\n                <p className=\"text-sm text-relish-ink-muted\">Document memory maps, cooking sessions, and collaborative moments.</p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={openCameraCapture}\n                  disabled={photoUploading}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-relish-ink text-white hover:bg-relish-ink/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Camera size={18} />\n                  Live Capture\n                </button>\n                <button\n                  onClick={openPhotoUploader}\n                  disabled={photoUploading}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Upload size={18} />\n                  {photoUploading ? 'Uploading...' : 'Upload Photos'}\n                </button>\n                <button\n                  onClick={closePhotoManager}\n                  className=\"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\"\n                >\n                  <X size={18} />\n                  Close\n                </button>\n              </div>\n            </div>\n            <div className=\"p-6 flex-1 flex flex-col gap-4 overflow-hidden\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-sm text-relish-ink font-semibold\">\n                  {photos.length} photo{photos.length === 1 ? '' : 's'} stored\n                </div>\n                <div className=\"text-xs text-relish-ink-muted\">\n                  Accepts JPG, PNG, WebP, HEIC • Max {Math.round(PHOTO_MAX_SIZE_BYTES / (1024 * 1024))}MB per image\n                  {photoUploading && <span className=\"ml-2 text-relish-accent font-semibold\">Uploading...</span>}\n                </div>\n              </div>\n              {photosError && (\n                <div className=\"px-4 py-3 bg-relish-paper border border-relish-accent text-relish-ink rounded-2xl\">\n                  {photosError}\n                </div>\n              )}\n              <div className=\"flex-1 overflow-auto\">\n                {photosLoading && photos.length === 0 ? (\n                  <div className=\"h-full flex flex-col items-center justify-center text-center text-relish-ink border-2 border-dashed border-relish-linen rounded-2xl p-10\">\n                    <Images size={48} className=\"mb-4 animate-pulse\" />\n                    <p className=\"text-lg font-semibold\">Loading photos...</p>\n                    <p className=\"text-sm mt-2 text-relish-ink-muted\">Fetching your workshop gallery from the server.</p>\n                  </div>\n                ) : photos.length === 0 ? (\n                  <div className=\"h-full flex flex-col items-center justify-center text-center text-relish-ink border-2 border-dashed border-relish-linen rounded-2xl p-10\">\n                    <Images size={48} className=\"mb-4\" />\n                    <p className=\"text-lg font-semibold\">No photos yet</p>\n                    <p className=\"text-sm mt-2 text-relish-ink-muted\">Capture memory maps, cooking sessions, and group moments to build a visual archive.</p>\n                    <button\n                      onClick={openPhotoUploader}\n                      className=\"mt-6 flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark\"\n                    >\n                      <Camera size={18} />\n                      Add your first photo\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\n                    {photos.map((photo, index) => (\n                      <button\n                        key={getPhotoId(photo) || index}\n                        type=\"button\"\n                        onClick={() => openPhotoPreview(index)}\n                        className=\"bg-white/90 border border-relish-linen rounded-2xl shadow-sm hover:shadow-md transition-shadow text-left\"\n                      >\n                        <div className=\"relative aspect-video overflow-hidden rounded-t-xl\">\n                          <img\n                            src={buildPhotoUrl(photo)}\n                            alt={photo.caption || photo.originalName || 'Workshop photo'}\n                            className=\"h-full w-full object-cover\"\n                          />\n                          <span className=\"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1\">\n                            <Maximize2 size={14} /> View\n                          </span>\n                        </div>\n                        <div className=\"p-4 space-y-1\">\n                          <div className=\"font-semibold text-sm text-relish-ink truncate\">{photo.caption || photo.originalName || 'Workshop photo'}</div>\n                          <div className=\"text-xs text-relish-ink-muted\">{formatPhotoTimestamp(photo.createdAt)}</div>\n                          <div className=\"text-xs text-relish-ink-muted\">{describePhotoContext(photo)}</div>\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n            <input\n              ref={photoInputRef}\n              type=\"file\"\n              accept=\"image/*\"\n              capture=\"environment\"\n              multiple\n              onChange={handlePhotoUploadChange}\n              className=\"hidden\"\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Notes Modal */}\n      {showNotes && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 rounded-[28px] shadow-relish-card max-w-2xl w-full max-h-[80vh] flex flex-col border border-relish-linen\">\n            <div className=\"p-6 border-b border-relish-linen\">\n              <h3 className=\"text-2xl font-display text-relish-ink\">Facilitator Notes</h3>\n            </div>\n            <div className=\"p-6 flex-1 overflow-auto\">\n              <textarea\n                value={facilitatorNotes}\n                onChange={(e) => setFacilitatorNotes(e.target.value)}\n                placeholder=\"Add your notes, observations, or reminders here...\"\n                className=\"w-full h-full min-h-[300px] p-4 border border-relish-linen rounded-2xl focus:border-relish-ink focus:outline-none resize-none bg-white/80 text-relish-ink\"\n              />\n            </div>\n            <div className=\"p-6 border-t border-relish-linen flex justify-end\">\n              <button\n                onClick={() => setShowNotes(false)}\n                className=\"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Checklist Modal */}\n      {showChecklist && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 rounded-[28px] shadow-relish-card max-w-2xl w-full max-h-[80vh] flex flex-col border border-relish-linen\">\n            <div className=\"p-6 border-b border-relish-linen\">\n              <h3 className=\"text-2xl font-display text-relish-ink\">Pre-Workshop Checklist</h3>\n            </div>\n            <div className=\"p-6 flex-1 overflow-auto\">\n              <div className=\"space-y-4\">\n                {CHECKLIST_SECTIONS.map((section) => (\n                  <div key={section.id} className={`${section.containerClass} p-4 rounded-lg`}>\n                    <h4 className=\"font-semibold mb-3\">{section.title}</h4>\n                    <div className=\"space-y-2\">\n                      {section.items.map((item) => (\n                        <label key={item.id} className=\"flex items-center gap-3\">\n                          <input\n                            type=\"checkbox\"\n                            className=\"w-5 h-5\"\n                            checked={Boolean(checklistState[item.id])}\n                            onChange={() => toggleChecklistItem(item.id)}\n                          />\n                          <span>{item.label}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"p-6 border-t border-relish-linen flex justify-end\">\n              <button\n                onClick={() => setShowChecklist(false)}\n                className=\"px-6 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Participants Modal */}\n      {showParticipants && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50\">\n          <div className=\"relative bg-white/95 rounded-[32px] shadow-relish-card max-w-5xl w-full max-h-[85vh] flex flex-col border border-relish-linen overflow-hidden\">\n            <div className=\"absolute inset-0 pointer-events-none opacity-50 mix-blend-multiply\">\n              <img src={relishLineArt} alt=\"\" aria-hidden=\"true\" className=\"h-full w-full object-cover\" />\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/80 via-transparent to-relish-paper\" />\n            </div>\n            <div className=\"relative flex flex-col flex-1\">\n              <div className=\"p-6 border-b border-relish-linen flex items-center justify-between bg-white/80 backdrop-blur\">\n                <div>\n                  <p className=\"text-xs uppercase tracking-[0.35em] text-relish-smoke font-semibold\">Participant registry</p>\n                  <h3 className=\"text-3xl font-display text-relish-ink\">Roster & care notes</h3>\n                  <p className=\"text-sm text-relish-ink-muted\">Track attendees, sensitivities, and cultural frames in one scholarly sheet.</p>\n                </div>\n                <button\n                  onClick={handleCloseParticipants}\n                  className=\"p-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n                  aria-label=\"Close participant modal\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              <div className=\"p-6 space-y-6 overflow-y-auto\">\n                {participantsError && (\n                  <div className=\"px-4 py-3 bg-relish-paper border border-relish-accent text-relish-ink rounded-2xl\">\n                    {participantsError}\n                  </div>\n                )}\n                {participantsLoading && participants.length === 0 && (\n                  <div className=\"px-4 py-3 bg-white/70 border border-dashed border-relish-linen text-relish-ink rounded-2xl\">\n                    Loading participants...\n                  </div>\n                )}\n                <form onSubmit={handleParticipantSubmit} className=\"bg-white/85 border border-relish-linen rounded-[28px] p-6 space-y-4 shadow-inner\">\n                  <div className=\"flex flex-wrap gap-4\">\n                    <div className=\"flex-1 min-w-[220px]\">\n                      <label className=\"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\" htmlFor=\"participant-name\">\n                        Name <span className=\"text-relish-accent\">*</span>\n                      </label>\n                      <input\n                        id=\"participant-name\"\n                        name=\"name\"\n                        value={participantForm.name}\n                        onChange={handleParticipantChange}\n                        required\n                        placeholder=\"Participant full name\"\n                        className=\"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                      />\n                    </div>\n                    <div className=\"flex-1 min-w-[220px]\">\n                      <label className=\"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\" htmlFor=\"participant-email\">\n                        Email\n                      </label>\n                      <input\n                        id=\"participant-email\"\n                        name=\"email\"\n                        type=\"email\"\n                        value={participantForm.email}\n                        onChange={handleParticipantChange}\n                        placeholder=\"example@email.com\"\n                        className=\"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex flex-wrap gap-4\">\n                    <div className=\"flex-1 min-w-[220px]\">\n                      <label className=\"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\" htmlFor=\"participant-dietary\">\n                        Dietary needs\n                      </label>\n                      <input\n                        id=\"participant-dietary\"\n                        name=\"dietary\"\n                        value={participantForm.dietary}\n                        onChange={handleParticipantChange}\n                        placeholder=\"Vegetarian, allergies, etc.\"\n                        className=\"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                      />\n                    </div>\n                    <div className=\"flex-1 min-w-[220px]\">\n                      <label className=\"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\" htmlFor=\"participant-cultural\">\n                        Cultural background\n                      </label>\n                      <input\n                        id=\"participant-cultural\"\n                        name=\"cultural\"\n                        value={participantForm.cultural}\n                        onChange={handleParticipantChange}\n                        placeholder=\"Region, heritage, influences\"\n                        className=\"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-xs uppercase tracking-[0.25em] text-relish-smoke mb-2\" htmlFor=\"participant-notes\">\n                      Notes\n                    </label>\n                    <textarea\n                      id=\"participant-notes\"\n                      name=\"notes\"\n                      value={participantForm.notes}\n                      onChange={handleParticipantChange}\n                      placeholder=\"Observations, accessibility needs, preferred pronouns, etc.\"\n                      rows={3}\n                      className=\"w-full px-4 py-3 border border-relish-linen rounded-2xl bg-white/90 text-relish-ink focus:border-relish-ink focus:outline-none resize-none\"\n                    />\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <button\n                      type=\"submit\"\n                      className=\"flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white shadow-sm hover:bg-relish-accent-dark transition-colors\"\n                    >\n                      {editingParticipantId ? 'Update Participant' : 'Add Participant'}\n                    </button>\n                    {editingParticipantId && (\n                      <button\n                        type=\"button\"\n                        onClick={resetParticipantForm}\n                        className=\"px-5 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n                      >\n                        Cancel\n                      </button>\n                    )}\n                  </div>\n                </form>\n\n                <div className=\"flex flex-wrap items-center justify-between gap-3\">\n                  <div className=\"text-sm text-relish-ink font-semibold\">\n                    {participantCount} participant{participantCount === 1 ? '' : 's'} registered\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={handleExportParticipants}\n                      className=\"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper text-sm\"\n                    >\n                      <Download size={16} />\n                      Export JSON\n                    </button>\n                    <button\n                      onClick={() => fileInputRef.current?.click()}\n                      className=\"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-linen bg-white/80 text-relish-ink hover:bg-relish-paper text-sm\"\n                    >\n                      <Upload size={16} />\n                      Import JSON\n                    </button>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"application/json\"\n                      onChange={handleImportParticipants}\n                      className=\"hidden\"\n                    />\n                  </div>\n                </div>\n\n                {participantCount === 0 ? (\n                  <div className=\"bg-white/80 border border-dashed border-relish-linen rounded-2xl p-10 text-center text-relish-ink shadow-inner\">\n                    <p className=\"text-lg font-semibold\">No participants registered yet.</p>\n                    <p className=\"text-sm mt-2 text-relish-ink-muted\">Use the form above to add facilitators and attendees as you prepare for the workshop.</p>\n                  </div>\n                ) : (\n                  <div className=\"grid md:grid-cols-2 gap-4\">\n                    {participants.map((participant, index) => (\n                      <div\n                        key={participant._id || participant.id || `${participant.name}-${index}`}\n                        className=\"bg-white/90 border border-relish-linen rounded-2xl p-5 shadow-sm backdrop-blur\"\n                      >\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <div>\n                            <h4 className=\"text-xl font-display text-relish-ink\">{participant.name}</h4>\n                            {participant.email && (\n                              <p className=\"text-sm text-relish-ink-muted\">{participant.email}</p>\n                            )}\n                          </div>\n                          <div className=\"flex gap-2\">\n                            <button\n                              onClick={() => handleEditParticipant(participant)}\n                              className=\"p-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n                              title=\"Edit participant\"\n                            >\n                              <Pencil size={16} />\n                            </button>\n                            <button\n                              onClick={() => handleDeleteParticipant(participant)}\n                              className=\"p-2 rounded-full border border-relish-accent text-relish-accent hover:bg-relish-accent hover:text-white\"\n                              title=\"Remove participant\"\n                            >\n                              <Trash2 size={16} />\n                            </button>\n                          </div>\n                        </div>\n                        {participant.dietary && (\n                          <div className=\"mb-2 text-sm\">\n                            <span className=\"font-semibold text-relish-ink\">Dietary:</span>{' '}\n                            <span className=\"text-relish-ink-muted\">{participant.dietary}</span>\n                          </div>\n                        )}\n                        {participant.cultural && (\n                          <div className=\"mb-2 text-sm\">\n                            <span className=\"font-semibold text-relish-ink\">Cultural Background:</span>{' '}\n                            <span className=\"text-relish-ink-muted\">{participant.cultural}</span>\n                          </div>\n                        )}\n                        {participant.notes && (\n                          <div className=\"text-sm text-relish-ink-muted bg-relish-paper rounded-2xl p-3\">\n                            {participant.notes}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Photo Preview Overlay */}\n      {activePhotoIndex !== null && photos[activePhotoIndex] && (\n        <div className=\"fixed inset-0 bg-black/80 flex flex-col md:flex-row items-center justify-center gap-6 p-6 z-50\">\n          <button\n            onClick={() => showNextPhoto(-1)}\n            className=\"hidden md:flex items-center justify-center h-12 w-12 rounded-full bg-white/20 text-white hover:bg-white/30\"\n            aria-label=\"Previous photo\"\n          >\n            <ChevronLeft size={24} />\n          </button>\n          <div className=\"bg-white/98 rounded-[28px] shadow-relish-card max-w-3xl w-full overflow-hidden border border-relish-linen\">\n            <div className=\"flex items-center justify-between px-4 py-3 border-b border-relish-linen bg-white/80\">\n              <div>\n                <h4 className=\"font-display text-xl text-relish-ink\">Photo details</h4>\n                <p className=\"text-xs text-relish-ink-muted\">{describePhotoContext(photos[activePhotoIndex])}</p>\n              </div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => removePhoto(getPhotoId(photos[activePhotoIndex]))}\n                  className=\"flex items-center gap-2 px-3 py-2 rounded-full border border-relish-accent text-relish-accent hover:bg-relish-accent hover:text-white text-sm\"\n                >\n                  <Trash2 size={16} /> Delete\n                </button>\n                <button\n                  onClick={closePhotoPreview}\n                  className=\"p-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\"\n                  aria-label=\"Close preview\"\n                >\n                  <XCircle size={20} />\n                </button>\n              </div>\n            </div>\n            <div className=\"bg-black\">\n              <img\n                src={buildPhotoUrl(photos[activePhotoIndex])}\n                alt={photos[activePhotoIndex].caption || photos[activePhotoIndex].originalName || 'Workshop photo'}\n                className=\"max-h-[60vh] w-full object-contain bg-black\"\n              />\n            </div>\n            <div className=\"px-4 py-4 space-y-3\">\n              <div className=\"text-xs text-relish-ink-muted\">\n                Captured {formatPhotoTimestamp(photos[activePhotoIndex].createdAt)}\n              </div>\n              <label className=\"block text-sm font-semibold text-relish-ink\">\n                Caption\n                <input\n                  type=\"text\"\n                  value={photos[activePhotoIndex].caption || ''}\n                  onChange={(event) => updatePhotoCaption(getPhotoId(photos[activePhotoIndex]), event.target.value)}\n                  placeholder=\"Add a short description\"\n                  className=\"mt-1 w-full px-3 py-2 border border-relish-linen rounded-2xl focus:border-relish-accent focus:outline-none\"\n                />\n              </label>\n            </div>\n          </div>\n          <button\n            onClick={() => showNextPhoto(1)}\n            className=\"hidden md:flex items-center justify-center h-12 w-12 rounded-full bg-white/20 text-white hover:bg-white/30\"\n            aria-label=\"Next photo\"\n          >\n            <ChevronRight size={24} />\n          </button>\n          <div className=\"flex md:hidden gap-3\">\n            <button\n              onClick={() => showNextPhoto(-1)}\n              className=\"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg\"\n            >\n              <ChevronLeft size={18} /> Prev\n            </button>\n            <button\n              onClick={() => showNextPhoto(1)}\n              className=\"flex items-center gap-2 px-4 py-2 bg-white/20 text-white rounded-lg\"\n            >\n              Next <ChevronRight size={18} />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Live Camera Capture Overlay */}\n      {showCameraCapture && (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-[60]\">\n          <div className=\"bg-white/98 rounded-[32px] shadow-relish-card w-full max-w-3xl overflow-hidden border border-relish-linen\">\n            <div className=\"flex items-center justify-between px-5 py-4 border-b border-relish-linen bg-white/80\">\n              <div>\n                <h4 className=\"text-lg font-display text-relish-ink\">Live Camera</h4>\n                <p className=\"text-xs text-relish-ink-muted\">Position your device and capture a moment from the workshop.</p>\n                {cameraError && <p className=\"text-xs text-relish-accent mt-1\">{cameraError}</p>}\n              </div>\n              <button\n                onClick={closeCameraCapture}\n                className=\"p-2 rounded-full border border-relish-linen bg-white text-relish-ink hover:bg-relish-paper\"\n                aria-label=\"Close camera\"\n              >\n                <XCircle size={20} />\n              </button>\n            </div>\n            <div className=\"bg-black\">\n              <video\n                ref={cameraVideoRef}\n                playsInline\n                muted\n                className=\"w-full max-h-[60vh] object-contain bg-black\"\n              />\n            </div>\n            <div className=\"px-5 py-4 flex items-center justify-between bg-white/90\">\n              <div className=\"text-xs text-relish-ink-muted\">\n                {cameraStream ? 'Camera ready' : 'Waiting for camera access…'}\n              </div>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={capturePhotoFromCamera}\n                  disabled={!cameraStream || photoUploading}\n                  className=\"flex items-center gap-2 px-5 py-2 rounded-full bg-relish-accent text-white hover:bg-relish-accent-dark disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Camera size={18} /> Capture\n                </button>\n                <button\n                  onClick={closeCameraCapture}\n                  className=\"px-4 py-2 rounded-full border border-relish-linen text-relish-ink hover:bg-relish-paper\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n            <canvas ref={cameraCanvasRef} className=\"hidden\" />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WorkshopTool;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}